(this["webpackJsonppraktikums-finder"]=this["webpackJsonppraktikums-finder"]||[]).push([[0],{154:function(e,t,a){},185:function(e,t,a){e.exports=a.p+"static/media/download.5ffbbfa2.png"},186:function(e,t,a){e.exports=a.p+"static/media/login.bca039d8.jpeg"},200:function(e,t,a){e.exports=a.p+"static/media/contract.73c01f8b.jpg"},340:function(e,t,a){},374:function(e,t,a){e.exports=a.p+"static/media/LogoVertical.409951eb.png"},379:function(e,t,a){e.exports=a.p+"static/media/final.5ffbbfa2.png"},411:function(e,t,a){e.exports=a(659)},502:function(e,t,a){},531:function(e,t,a){},549:function(e,t,a){},553:function(e,t,a){},591:function(e,t,a){},592:function(e,t,a){},593:function(e,t,a){},641:function(e,t){},659:function(e,t,a){"use strict";a.r(t);a(412),a(502),a(503),a(504),a(303);var n,l=a(1),r=a.n(l),s=a(16),i=a.n(s),o=a(11),c=a(12),m=a(14),u=a(13),d=a(32),p=a(106),h=a(20),g=a(185),f=a.n(g),E=a(359),v=a(186),y=a.n(v),b=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",loading:!1,loggedIn:!1},e.textChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.loginAjax=function(t){t.preventDefault();var n=a(10),l=new URLSearchParams;l.append("email",e.state.email),l.append("password",e.state.password);var r=localStorage.getItem("url");e.setState({loading:!0}),n({method:"post",url:r+"?action=login",data:l}).then((function(t){console.log(t.data),!t.data.error&&t.data?e.login(t.data.token):(console.log(),e.setState({errMsg:"Kontrollieren sie Ihre E-Mail und ihr Passwort"})),e.setState({loading:!1})}))},e.login=function(t){var n=a(318)(t);e.props.setUser(n.data,t),e.setState({loggedIn:!0})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){try{this.props.match.params.token&&this.login(this.props.match.params.token)}catch(e){}}},{key:"render",value:function(){var e;return null!=this.props.currentUser||this.state.loggedIn?r.a.createElement(p.a,{to:"/"}):this.state.loading?r.a.createElement(E.a,{animation:"border"}):r.a.createElement("div",null,r.a.createElement("div",{style:{height:"100vh",width:"100vw",backgroundImage:"url(".concat(y.a,")"),backgroundSize:"cover"},className:"d-flex main-content flex-column align-items-center justify-content-around"},r.a.createElement("div",{className:"w-25 bg-dark"},r.a.createElement("div",{style:{height:150},className:"p-3 bg-white d-flex align-items-center justify-content-center"},r.a.createElement("img",{className:"w-100",src:f.a})),r.a.createElement("div",{style:{height:400},className:"p-3 d-flex flex-column align-items-center justify-content-around"},r.a.createElement("h2",{className:"text-white"},"Bitte melden Sie sich an"),r.a.createElement("div",{className:"mt-3 d-flex justify-content-center"},r.a.createElement("form",{onSubmit:this.loginAjax,className:"login",style:{display:"flex",flexFlow:"column"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{id:"emailLogin",type:"email",placeholder:"E-Mail",className:"form-control",value:this.state.email,onChange:this.textChange,name:"email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{id:"passwordLogin",className:"form-control",type:"password",placeholder:"Password",value:this.state.password,onChange:this.textChange,name:"password"})),null!==(e=this.state.errMsg)&&void 0!==e?e:r.a.createElement("p",null,this.state.errMsg),r.a.createElement("input",{type:"submit",value:"Login",className:"btn btn-primary"}),r.a.createElement(h.b,{className:"text-white",style:{textDecoration:"none"},to:"/register"},"Noch keinen Account? ",r.a.createElement("b",null,"Hier Registrieren"))))))))}}]),n}(l.Component),S=b,C=(a(531),a(706)),N=a(34),k=a(729),w=a(366),I=a(739),D=a(732),O=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={firstname:"",surname:"",email:"",password:"",passwordRpt:"",token:"",phonenumber:"",show:!1,isTutor:!1,role:"student",errorIsOpen:!1},e.textChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.setShow=function(t){e.setState({show:t}),console.log(e.state)},e.handleClose=function(){e.setShow(!1)},e.handleShow=function(){e.setShow(!0)},e.handleTutor=function(){e.setState({isTutor:!0,role:"company"})},e.handleStudent=function(){e.setState({isTutor:!1,role:"student"})},e.handleClose=function(){e.setState({errorIsOpen:!1})},e.register=function(t){if(t.preventDefault(),e.state.password===e.state.passwordRpt){var n=a(10),l=new URLSearchParams;l.append("firstname",e.state.firstname),l.append("surname",e.state.surname),l.append("email",e.state.email),l.append("password",e.state.password),l.append("role",e.state.role),n({method:"post",url:localStorage.getItem("url")+"/?action=register",data:l}).then((function(t){void 0!==t.data.error?document.getElementById("errorMsg").innerText=t.data.message:(e.handleShow(),document.getElementById("emailp").innerText="Deine E-Mail: "+e.state.email)}))}else e.setState({errorIsOpen:!0})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{style:{height:"100vh",width:"100vw",backgroundImage:"url(".concat(y.a,")"),backgroundSize:"cover"},className:"d-flex main-content flex-column align-items-center justify-content-around"},r.a.createElement("div",{className:"bg-dark w-50 h-50 text-white"},r.a.createElement("div",{className:"h-25 p-3 bg-white d-flex align-items-center justify-content-center"},r.a.createElement("img",{className:"h-100",src:f.a})),r.a.createElement("div",{className:"p-4 d-flex flex-wrap flex-row w-100 justify-content-around align-items-center"},r.a.createElement("h2",{className:"text-white"},"Registrieren"),r.a.createElement(I.a,{open:this.state.errorIsOpen,autoHideDuration:1e4,onClose:function(){e.setState({errorIsOpen:!1})}},r.a.createElement(D.a,{severity:"error",onClose:this.handleClose},"Passw\xf6rter stimmen nicht \xfcberein!")),r.a.createElement("div",{className:"w-100 register d-flex justify-content-center "},r.a.createElement("form",{onSubmit:this.register,className:"d-flex flex-column"},r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement("div",{className:"button-group p-0"},r.a.createElement("input",{name:"firstname",id:"firstname",placeholder:"Vorname",value:this.state.firstname,className:"form-control",onChange:this.textChange,required:!0}))),r.a.createElement(N.a,null,r.a.createElement("div",{className:"button-group"},r.a.createElement("input",{name:"surname",id:"surname",placeholder:"Nachname",value:this.state.surname,className:"form-control",onChange:this.textChange,required:!0})))),r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement("div",{className:"button-group mt-2"},r.a.createElement("input",{name:"email",id:"email",placeholder:"E-Mail",type:"email",className:"form-control",value:this.state.email,onChange:this.textChange,required:!0})))),r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement("div",{className:"button-group mt-2"},r.a.createElement("input",{className:"form-control",name:"password",id:"password",type:"password",placeholder:"Passwort",value:this.state.password,onChange:this.textChange,required:!0}))),r.a.createElement(N.a,null,r.a.createElement("div",{className:"button-group mt-2"},r.a.createElement("input",{className:"form-control",name:"passwordRpt",id:"passwordRpt",type:"password",placeholder:"Passwort wiederholen",value:this.state.passwordRpt,onChange:this.textChange,required:!0})))),r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement("p",{id:"errorMsg"}))),r.a.createElement(C.a,null,r.a.createElement(N.a,null," ",r.a.createElement("input",{className:"btn btn-primary",type:"submit",value:"Registrieren"}))),r.a.createElement("p",null,"Schon einen Account? Hier zum ",r.a.createElement(h.b,{style:{color:"white",textDecoration:"none"},to:"/login"},"Login"))),r.a.createElement(k.a,{show:this.state.show,onHide:this.handleClose},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,null,"Bitte verifiziere deine Email!")),r.a.createElement(k.a.Body,{className:""},r.a.createElement("p",{id:"emailp"}),r.a.createElement("a",{className:"btn btn-outline-primary",href:"https://www."+this.state.email.split("@")[1],target:"_blank",rel:"noopener noreferrer"},"Zur E-Mail")),r.a.createElement(k.a.Footer,null,r.a.createElement(w.a,{variant:"secondary",onClick:this.handleClose},"Schlie\xdfen"))))))))}}]),n}(l.Component),x=(a(154),a(110)),A=(a(24),a(25),a(713)),j=a(50),_=(a(322),a(323),a(107)),T=a(730),L=a(365),z=a(740),R=a(707),V=a(712),M=a(708),B=a(711),U=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return 1!==this.props.currentStep?null:r.a.createElement("div",null,r.a.createElement(C.a,{className:"justify-content-md-center ml-3 mr-3"},r.a.createElement(T.a.Group,{controlId:"formUsername",className:"mt-3 w-75"},r.a.createElement(T.a.Label,null,"Namen des Unternehmens"),r.a.createElement(T.a.Control,{type:"text",name:"name",value:this.props.name,onChange:this.props.handleChange,required:!0}))),r.a.createElement(C.a,{className:"justify-content-md-center ml-3 mr-3"},r.a.createElement(T.a.Group,{controlId:"formCompanyEmail",className:"w-75"},r.a.createElement(T.a.Label,null,"Email des Unternehmens"),r.a.createElement(T.a.Control,{type:"email",name:"email",value:this.props.email,onChange:this.props.handleChange,required:!0}))),r.a.createElement(C.a,{className:"justify-content-md-center ml-3 mr-3"},r.a.createElement(T.a.Group,{controlId:"formPhonenumber",className:"w-75"},r.a.createElement(T.a.Label,null,"Telefonnummer des Unternehmens"),r.a.createElement(T.a.Control,{type:"text",name:"phonenumber",value:this.props.phonenumber,onChange:this.props.handleChange,required:!0}))),r.a.createElement(C.a,{className:"justify-content-md-center ml-3 mr-3"},r.a.createElement("div",{className:"w-75"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"w-75 mr-2"},r.a.createElement(T.a.Group,{controlId:"formAddress"},r.a.createElement(T.a.Label,null,"Adresse"),r.a.createElement(T.a.Control,{type:"text",name:"address",value:this.props.address,onChange:this.props.handleChange,required:!0}))),r.a.createElement("div",{className:"w-25"},r.a.createElement(T.a.Group,{controlId:"formCap"},r.a.createElement(T.a.Label,null,"PLZ"),r.a.createElement(T.a.Control,{type:"text",name:"cap",value:this.props.cap,onChange:this.props.handleChange,required:!0,pattern:"[0-9]{5,6}"})))))))}}]),a}(l.Component),P=a(709),F=a(728),H=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={dialogDistrictIsOpen:!1},e.setDialogDistrict=function(){return r.a.createElement(z.a,{open:e.state.dialogDistrictIsOpen,onClose:e.handleDialogCloseDistrict,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Neuer Bezirk"),r.a.createElement(M.a,null,r.a.createElement(P.a,null,"Geben sie im untenstehenden Textfeld den neuen Bezirk ein!"),r.a.createElement(F.a,{autoFocus:!0,margin:"dense",id:"district",label:"Bezirk",type:"text",fullWidth:!0,onChange:e.props.new_District})),r.a.createElement(B.a,null,r.a.createElement(w.a,{onClick:e.handleDialogCloseDistrict,color:"primary"},"Abbrechen"),r.a.createElement(w.a,{onClick:e.handleDialogSaveDistrict,color:"primary"},"Speichern")))},e.handleDialogOpenDistrict=function(){e.setState({dialogDistrictIsOpen:!0})},e.handleDialogCloseDistrict=function(){e.setState({dialogDistrictIsOpen:!1})},e.handleDialogSaveDistrict=function(){e.setState({dialogDistrictIsOpen:!1});var t={value:e.props.newDistrictName,label:e.props.newDistrictName};e.props.districts.push({value:e.props.newDistrictName,label:e.props.newDistrictName}),e.props.saveDistrictstoOptions(t)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;if(2!==this.props.currentStep)return null;return r.a.createElement("div",null,this.setDialogDistrict(),r.a.createElement(C.a,{className:"justify-content-md-center mt-2 ml-3 mr-3"},r.a.createElement("div",{className:"w-75"},r.a.createElement(T.a.Label,null,"Berzirke"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"w-75 mr-2"},r.a.createElement(j.a,{className:"basic-single",classNamePrefix:"select",name:"selectedOptionDistrict",isSearchable:!0,isClearable:!0,options:this.props.districts,value:this.props.selectedOptionDistrict,onChange:this.props.handleChangeDistricts,placeholder:"W\xe4hlen sie hier den Bezirk aus!"})),r.a.createElement("div",{className:"ml-2 w-25"},r.a.createElement(w.a,{className:"btn btn-primary",onClick:function(){return e.handleDialogOpenDistrict()}},"Neuer Bezirk"))))),r.a.createElement(C.a,{className:"justify-content-md-center ml-3 mr-3"},r.a.createElement("div",{className:"w-75"},r.a.createElement(T.a.Label,null,"Spezialisierung"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"w-100 mr-2"},r.a.createElement(j.a,{className:"basic-single",classNamePrefix:"select",name:"selectedOptionSpecializations",isSearchable:!0,options:this.props.specializations,value:this.props.selectedOptionSpecializations,isClearable:!0,onChange:this.props.handleChangeSpecializations,placeholder:"W\xe4hlen sie hier die Fachrichtung aus!"}))))),r.a.createElement("div",{style:{height:"18vh"}}))}}]),a}(l.Component),W=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={selectedCompanyId:null,modalVisible:!1,dialogDistrictIsOpen:!1,dialogIsOpen:!1,errorIsOpen:!1,currentStep:1,new_District:"",email:"",name:"",phonenumber:"",address:"",cap:"",districts:[],selectedOptionDistrict:"",specializations:[],selectedOptionSpecializations:"",createNewCompany:!1},e.getByDatabaseId=function(t){var a=void 0;return e.props.data.map((function(e){t===e.id&&(a=e)})),a},e.handleNewDistrict=function(t){e.setState({new_District:t.target.value})},e.handleChangeSpecializations=function(t){e.setState({selectedOptionSpecializations:t})},e.handleChangeDistricts=function(t){e.setState({selectedOptionDistrict:t})},e._next=function(){var t=e.state.currentStep;e.checkifStepFilledOut()&&(t=t>=1?2:t+1,e.setState({currentStep:t})),console.log(t)},e._prev=function(){var t=e.state.currentStep;t=t<=1?2:t-1,e.setState({currentStep:t}),console.log(t)},e.onClick=function(t){e.setState({selectedCompanyId:t}),null!==e.props.showIntofmation&&!0===e.props.showIntofmation&&e.setState({modalVisible:!0})},e.nextStep=function(){e.props.onClick(e.state.selectedCompanyId)},e.nextStepWithID=function(t){e.props.onClick(t)},e.handleDialogClose=function(){e.setState({dialogIsOpen:!1})},e.previousButton=function(){return 1!==e.state.currentStep?r.a.createElement("button",{className:"btn btn-secondary",type:"button",onClick:e._prev},"Previous"):null},e.nextButton=function(){return e.state.currentStep<2?r.a.createElement("button",{className:"btn btn-primary float-right",type:"button",onClick:e._next},"Next"):null},e.handleClose=function(){e.setState({errorIsOpen:!1})},e.checkifStepFilledOut=function(){var t=!1;if(1===e.state.currentStep){var a=e.state.email,n=e.state.name,l=e.state.phonenumber,r=e.state.address,s=e.state.cap;t=!(!a||!n||!l||!r||!s)}else{var i=e.state.selectedOptionSpecializations,o=e.state.selectedOptionDistrict;t=!(!i||!o)}return t||e.setState({errorIsOpen:!0}),t},e.setNewCompany=function(){return r.a.createElement("div",null,r.a.createElement(I.a,{open:e.state.errorIsOpen,autoHideDuration:1e4,onClose:function(){e.setState({errorIsOpen:!1})}},r.a.createElement(D.a,{severity:"error",onClose:e.handleClose},"Bitte kontrollieren sie ob alle Felder ausgef\xfcllt sind!")),r.a.createElement(z.a,{open:e.state.dialogIsOpen,classes:{paper:e.state.styles},onClose:e.handleDialogClose,fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title"},r.a.createElement("div",null,r.a.createElement(R.a,{id:"form-dialog-title"},"Neues Unternehmen hinzuf\xfcgen"),r.a.createElement(V.a,null),r.a.createElement(M.a,null,r.a.createElement(T.a,{id:"my-form",onSubmit:e.handleSubmit},r.a.createElement(U,{currentStep:e.state.currentStep,handleChange:e.handleChange,email:e.state.email,name:e.state.name,phonenumber:e.state.phonenumber,address:e.state.address,cap:e.state.cap}),r.a.createElement(H,{currentStep:e.state.currentStep,districts:e.state.districts,handleChangeDistricts:e.handleChangeDistricts,selectedOptionDistrict:e.state.selectedOptionDistrict,specializations:e.state.specializations,new_District:e.handleNewDistrict,newDistrictName:e.state.new_District,saveDistrictstoOptions:e.saveDistrictsOptions,handleChangeSpecializations:e.handleChangeSpecializations,selectedOptionSpecializations:e.state.selectedOptionSpecializations})),e.nextButton(),e.previousButton()),r.a.createElement(V.a,{className:"mt-2"}),r.a.createElement(B.a,{className:"float-right"},r.a.createElement(w.a,{onClick:e.handleDialogClose,color:"primary"},"Abbrechen"),r.a.createElement(w.a,{className:" mt-2 m-2",form:"my-form",color:"primary",disabled:e.state.createNewCompany,type:"submit"},"Erstellen")),r.a.createElement(V.a,null))))},e.saveDistrictsOptions=function(t){e.setState({selectedOptionDistrict:t})},e.handleSubmit=function(t){if(t.preventDefault(),e.checkifStepFilledOut()){console.log("alles ausgef\xfcllt");var n=localStorage.getItem("url"),l=new URLSearchParams;l.append("address",e.state.address),l.append("email",e.state.email),l.append("companyname",e.state.name),l.append("phonenumber",e.state.phonenumber),l.append("cap",e.state.cap),l.append("districtname",e.state.selectedOptionDistrict.label),l.append("specializationsid",e.state.selectedOptionSpecializations.value),a(10)({method:"post",url:n+="?action=createCompany",data:l}).then((function(t){console.log(t.data),e.nextStepWithID(t.data.id)}))}},e.getAllDistricts=function(){var t=localStorage.getItem("url");t+="?action=getAllDistricts",a(10)({method:"post",url:t}).then((function(t){var a=t.data.map((function(e){return{value:e.id,label:e.name}}));e.setState({districts:a})}))},e.getAllSpecialization=function(){var t=localStorage.getItem("url");t+="?action=getAllRoles",a(10)({method:"post",url:t}).then((function(t){var a=t.data.map((function(e){return{value:e.id,label:e.description}}));console.log(a[0]),e.setState({specializations:a})}))},e.handleDialogOpen=function(){e.setState({dialogIsOpen:!0})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getAllDistricts(),this.getAllSpecialization(),null!==this.props.default&&this.setState({selectedCompanyId:this.props.default}),this._next=this._next.bind(this),this._prev=this._prev.bind(this),this.handleChange=this.handleChange.bind(this)}},{key:"render",value:function(){var e=this;if(null===this.props.data)return null;var t="",a="",n="",l="";if(this.state.selectedCompanyId&&this.props.data.length>0&&this.getByDatabaseId(this.state.selectedCompanyId)){var s=this.getByDatabaseId(this.state.selectedCompanyId);t=s.name,a=s.address,n=s.email,l=s.phonenumber}return r.a.createElement("div",{className:"blockListWrapper",style:{height:"60vh",width:"95%",overflowY:"auto"}},this.setNewCompany(),r.a.createElement("div",{className:"internshipListItem"},r.a.createElement(_.a,{className:"border border-primary ",onClick:function(){e.handleDialogOpen()}},r.a.createElement("h4",{className:"m-1 mb-2"},"Neues Unternehmen"),r.a.createElement("div",{className:" d-flex align-items-center justify-content-center"},r.a.createElement("h3",null,"+")))),this.props.data.map((function(t){return r.a.createElement("div",{key:t.id,className:"internshipListItem"},r.a.createElement(_.a,{className:e.state.selectedCompanyId===t.id&&"border border-primary",onClick:function(){e.onClick(t.id)}},r.a.createElement("h1",null,t.name),r.a.createElement("br",null),t.address))})),r.a.createElement(k.a,{onHide:function(){e.setState({modalVisible:!1})},show:this.state.modalVisible},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,null,"Informationen \xfcber die Firma ",t)),r.a.createElement(L.a,null,r.a.createElement("p",null,"Adresse: ",r.a.createElement("a",{href:"https://www.google.com/maps/search/"+a,target:"_blank",rel:"noopener noreferrer"},a)),r.a.createElement("p",null,"E-Mail Adresse: ",r.a.createElement("a",{href:"mailto:"+n},n)),r.a.createElement("p",null,"Telefonnummer: ",r.a.createElement("a",{href:"tel:"+l},l)),r.a.createElement("p",null)),r.a.createElement(k.a.Footer,null,r.a.createElement(w.a,{variant:"secondary",onClick:function(){e.setState({modalVisible:!1})}},"Schlie\xdfen"),r.a.createElement(w.a,{variant:"primary",onClick:function(){e.nextStep()}},"Ausw\xe4hlen"))))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(d.a)({},a,n))}}]),n}(l.Component),K=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:[],districts:[],selectionOpen:!1,selectedOption:-1,noCompanyFound:!1,specialization:{id:1,description:"Informatiker"}},e.handleCloseSnackbar=function(){e.setState({noCompanyFound:!1})},e.getAllDistricts=function(){var t=localStorage.getItem("url");t+="?action=getAllVerifiedDistricts",a(10)({method:"post",url:t}).then((function(t){var a=[];a.push({value:-1,label:"Alle"}),t.data.map((function(e){a.push({value:e.id,label:e.name})})),e.setState({districts:a})}))},e.getAllCompanies=function(){var t=localStorage.getItem("url");t+="?action=getAllVerifiedCompanies",a(10)({method:"post",url:t}).then((function(t){e.setState({data:t.data})}))},e.getCompanysByDistrict=function(t){var n=localStorage.getItem("url");n+="?action=getCompanyByDistrict";var l=a(10),r=new URLSearchParams;r.append("id",t),l({method:"post",url:n,data:r}).then((function(t){0===t.data.length?e.setState({data:t.data,noCompanyFound:!0}):e.setState({data:t.data,noCompanyFound:!1})}))},e.handleChange=function(t){t&&(-1!==t.value?e.getCompanysByDistrict(t.value):e.getAllCompanies(),e.setState({selectedOption:t}))},e.onCompanyClick=function(t){console.log(t),e.props.setCompleted("company_id",t,1)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){a(10).defaults.headers.common["Auth-Token"]=localStorage.getItem("token");this.setState({selectedOption:{value:-1,label:"Alle"}}),this.getAllCompanies(),this.getAllDistricts()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex justify-content-center align-items-center bg-light"},r.a.createElement(N.a,{className:"justify-content-md-center"},r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement("h1",null,"Praktikumsbetrieb")),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(N.a,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Bezirk"),r.a.createElement(j.a,{options:this.state.districts,value:this.state.selectedOption,onChange:this.handleChange,placeholder:"W\xe4hlen sie hier Ihren Bezirk aus!"})))),r.a.createElement(C.a,null,r.a.createElement(W,{showIntofmation:!0,onClick:this.onCompanyClick,default:this.props.default,isSelectable:!0,filterBy:this.state.selectedOption,data:this.state.data}))),r.a.createElement(I.a,{open:this.state.noCompanyFound,autoHideDuration:1e4,onClose:function(){e.setState({noCompanyFound:!1})}},r.a.createElement(A.a,{severity:"error",onClose:this.handleCloseSnackbar},"Kein Unternehmen in diesem Bezirk gefunden!")))}}]),n}(l.Component),G=a(138),q=a(261),J=a.n(q),Y=a(223),Z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={range:{startDate:new Date,endDate:new Date,key:"selection"}},e.handleSelect=function(t){console.log(t),e.setState((function(e){var a=Object.assign({},e.range);return a.startDate=t.selection.startDate,a.endDate=t.selection.endDate,{range:a}}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){if(console.log({loadedDates:this.props.default}),this.props.default.from&&this.props.default.to){var e={startDate:Date.parse(this.props.default.from),endDate:new Date(this.props.default.to),key:"selection"};this.setState({range:e})}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex justify-content-center align-items-center bg-light"},r.a.createElement(N.a,null,r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement("h1",null,"Dein Praktikumszeitraum")),r.a.createElement("br",null),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(J.a,{minDeviceWidth:1224},r.a.createElement(G.DateRange,{locale:Y.a,ranges:[this.state.range],onChange:this.handleSelect,months:2,direction:"horizontal"})),r.a.createElement(J.a,{maxWidth:1024,maxDeviceWidth:1024},r.a.createElement(G.DateRange,{locale:Y.a,minDate:this.state.range.minDate,ranges:[this.state.range],onChange:this.handleSelect,months:2,direction:"vertical"}))),r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement(w.a,{className:"w-25 float-right",onClick:function(){console.log(e.state.range),e.props.setCompleted("from",e.state.range.startDate,null),e.props.setCompleted("to",e.state.range.endDate,2)}},"Weiter")))))}}]),a}(l.Component),Q=a(199),X=a(742),$=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={data:[],selectionOpen:!1,selectedTutorId:0},e.clickTutor=function(t){console.log(t),e.setState({selectedTutorId:t}),e.props.onClick(t)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.default),null!==this.props.default&&this.setState({selectedTutorId:this.props.default})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"blockListWrapper"},this.props.data.map((function(t,a){return r.a.createElement("div",{key:a,className:"internshipListItem"},r.a.createElement(_.a,{className:e.state.selectedTutorId===t.id&&"border border-primary",onClick:function(){e.clickTutor(t.id)}},r.a.createElement(_.a.Header,{className:"d-flex align-items-baseline justify-content-between"},r.a.createElement(X.a,null,"AC"),t.firstname," ",t.surname,r.a.createElement("div",null)),r.a.createElement(_.a.Body,null,t.email)))})))}}]),a}(l.Component),ee=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:[],selectionOpen:!1,noTutorFound:!1},e.JsonToList=function(t,n){var l=localStorage.getItem("url");l+="?action=";var r="";switch(t){case 1:r=l+"getAllSchoolpersons";break;case 2:r=l+"getSchoolpersonsByName&name=";break;default:r=l+"getAllSchoolpersons"}null!=n&&(r+=n),a(10)({method:"post",url:r}).then((function(a){switch(t){case 1:e.setState({data:a.data});break;case 2:console.log(a.data),0===a.data.length?e.setState({data:a.data,noTutorFound:!0}):e.setState({data:a.data,noTutorFound:!1});break;default:e.setState({data:a.data})}}))},e.searchTutorByName=function(){var t=document.getElementById("search").value;null===t&&""===t||e.JsonToList(2,t)},e.selectionOptions=function(){var t=!e.state.selectionOpen;!0===t?document.getElementById("selectOption").innerHTML="Suchen":(e.searchTutorByName(document.getElementById("search").value),document.getElementById("selectOption").innerHTML="\xd6ffnen"),e.setState({selectionOpen:t})},e.onClick=function(t){e.props.setCompleted("tutor",t,3)},e.handleCloseSnackbar=function(){e.setState({noTutorFound:!1})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("load",this.JsonToList(1,null))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex justify-content-center align-items-center bg-light"},r.a.createElement(N.a,{className:"justify-content-md-center"},r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement("h1",null,"Praktikumstutor")),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(Q.a,{in:this.state.selectionOpen},r.a.createElement(N.a,null,r.a.createElement("div",{className:"row pt-2"},r.a.createElement("h5",null,"Welchen Praktikumstutor hast du?")),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("input",{className:"form-control col ",id:"search"}))))),r.a.createElement(C.a,{className:" d-flex flex-wrap justify-content-around w-100 overflow-auto"},r.a.createElement(w.a,{className:"w-50",variant:"outline-primary",id:"selectOption",onClick:this.selectionOptions},"Suchen")," "),r.a.createElement(C.a,null,r.a.createElement($,{onClick:this.onClick,default:this.props.default,data:this.state.data}))),r.a.createElement(I.a,{open:this.state.noTutorFound,autoHideDuration:1e4,onClose:function(){e.setState({noTutorFound:!1})}},r.a.createElement(D.a,{severity:"info",onClose:this.handleCloseSnackbar},"Kein Tutor gefunden!")))}}]),n}(l.Component),te=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e.onChange=function(t){e.setState((function(e){var a=Object.assign({},e.personalinfo);return a.birthdate=t,{personalinfo:a}}))},e.handleInputChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.setPersonalInfo=function(){e.setState({firstname:e.props.currentUser.firstname,surname:e.props.currentUser.surname})},e.getStudentextraInfo=function(){var t=localStorage.getItem("url"),n=t+="?action=getStudentextra";a(10)({method:"post",url:n}).then((function(t){t.data.length>0&&e.setState({schoolclass:t.data[0].name,specialisation:t.data[0].description,school:"LBSHI-BZ"})}))},e.saveDateIntoState=function(t){e.setState({birthdate:t})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.setPersonalInfo(),console.log(this.props.currentUser.surname),window.addEventListener("load",this.getStudentextraInfo())}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex justify-content-center align-items-center bg-light"},r.a.createElement(N.a,{className:"justify-content-md-center"},r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement("h1",null,"Pers\xf6nliche Informationen")),r.a.createElement("br",null),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement("form",null,r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Zu- und Vorname")),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.firstname+" "+this.state.surname,"aria-label":"Vor_Zuname",name:"firstname_surname","aria-describedby":"basic-addon1",disabled:!0})),r.a.createElement("div",{className:"input-group mb-3"}),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Steuernummer")),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Steuernummer","aria-label":"Steuernummer",name:"tax_number","aria-describedby":"basic-addon1",onChange:this.handleInputChange})),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Stra\xdfe")),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Stra\xdfe","aria-label":"Stra\xdfe",name:"street","aria-describedby":"basic-addon1",onChange:this.handleInputChange}),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Wohnsitz")),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Wohnsitz","aria-label":"Wohnsitz",name:"residence","aria-describedby":"basic-addon1",onChange:this.handleInputChange}),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Postleitzahl")),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Postleitzahl","aria-label":"Postleitzahl",name:"postcode","aria-describedby":"basic-addon1",onChange:this.handleInputChange})),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Schule")),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.school,"aria-label":"Schule",name:"school","aria-describedby":"basic-addon1",onChange:this.handleInputChange,disabled:!0}),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Klasse/Zug")),r.a.createElement("input",{type:"text",className:"form-control","aria-label":"Klasse/Zug",value:this.state.schoolclass,name:"schoolclass",id:"schoolclass","aria-describedby":"basic-addon1",onChange:this.handleInputChange,disabled:!0}),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Fachrichtung")),r.a.createElement("input",{type:"text",className:"form-control","aria-label":"Fachrichtung",value:this.state.specialisation,id:"specialisation",name:"specialisation",onChange:this.handleInputChange,"aria-describedby":"basic-addon1",disabled:!0})),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Geburtsdatum")),r.a.createElement(G.Calendar,{className:"border flex-fill align-content-center",date:this.state.birthdate,onChange:this.saveDateIntoState})),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Geburtsort")),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Geburtsort","aria-label":"Geburtsort",name:"birthplace",id:"birthplace","aria-describedby":"basic-addon1",onChange:this.handleInputChange})))))),r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement(w.a,{className:"w-25 float-right",onClick:function(){e.props.setCompleted("personalinfo",e.state,5)}},"Weiter")))))}}]),n}(l.Component),ae=a(201),ne=a(200),le=a.n(ne),re=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={errorIsOpen:!1},e.handleClose=function(){e.setState({errorIsOpen:!1,errorMsg:"Es ist ein Fehler aufgetreten"})},e.generatePdf=function(){try{var t=a(10),n=localStorage.getItem("url"),l=new URLSearchParams;l.append("name",e.props.values.personalinfo.surname+" "+e.props.values.personalinfo.firstname),l.append("birthdate",e.props.values.personalinfo.birthdate.toISOString().slice(0,10)),l.append("specialisation",e.props.values.personalinfo.specialisation),l.append("schoolclass_id",e.props.values.schoolclass_id),l.append("company_id",e.props.values.company_id),l.append("tax_number",e.props.values.personalinfo.tax_number),l.append("street",e.props.values.personalinfo.street),l.append("residence",e.props.values.personalinfo.residence),l.append("postcode",e.props.values.personalinfo.postcode),l.append("birthplace",e.props.values.personalinfo.birthplace),l.append("internship_id",e.props.values.id),l.append("student_id",e.props.values.student_id),l.append("tutor_id",e.props.values.tutor),l.append("school",e.props.values.personalinfo.school),l.append("schoolclass",e.props.values.personalinfo.schoolclass),l.append("specialisation",e.props.values.personalinfo.specialisation),t({method:"post",url:n+"/?action=generateContract",data:l}).then((function(a){a.data.error?e.setState({errorIsOpen:!0,errorMsg:"Bitte kontrollieren Sie ob ihr Unternehmen und deren Mitarbeiter verifiziert sind, wenden Sie sich an Ihren Klassenlehrer oder das Sekreteriat!"}):(e.getBlobData(l,t,n),e.props.setCompleted(null,null,6))}))}catch(r){"TypeError"===r.name&&e.setState({errorIsOpen:!0,errorMsg:"Bitte kontrollieren Sie ob alle Felder im vorherigen Schritt ausgef\xfcllt sind!"})}},e.getBlobData=function(e,t,a){t({responseType:"arraybuffer",method:"POST",data:e,url:a+"/?action=generateContract"}).then((function(e){var t=new Blob([e.data],{type:e.headers["content-type"]}),a=window.URL.createObjectURL(t),n=document.createElement("a");document.body.appendChild(n),n.style="display: none",n.href=a,n.download="ArbeitsVertrag.docx",n.click(),window.URL.revokeObjectURL(a)}))},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex rounded",style:{backgroundImage:"url(".concat(le.a,")"),height:"65vh",backgroundSize:"50vh",backgroundRepeat:"no-repeat",backgroundPosition:" bottom right",backgroundColor:"white"}},r.a.createElement("div",{className:"justify-content-md-center m-3 "},r.a.createElement("div",{className:"justify-content-md-center"},r.a.createElement("h1",{style:{fontSize:80}},"Download des Praktikumsvertrages")),r.a.createElement("div",{style:{fontSize:20}},"Hier findest du deinen schon ausgef\xfcllten Praktikumsvertrage"),r.a.createElement("div",{className:"justify-content-md-center"},r.a.createElement("div",{style:{fontSize:20},className:"btn btn-outline-primary px-4 m-auto",onClick:this.generatePdf},"Download",r.a.createElement(ae.b,null)))),r.a.createElement(I.a,{open:this.state.errorIsOpen,autoHideDuration:1e4,onClose:function(){e.setState({errorIsOpen:!1})}},r.a.createElement(D.a,{severity:"error",onClose:this.handleClose},this.state.errorMsg)))}}]),n}(l.Component),se=a(262),ie=a.n(se),oe=a(369),ce=a(10),me=a.n(ce),ue=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={currentFile:"W\xe4hle deinen Vertrag aus!"},e.uploadData=function(t){var a=localStorage.getItem("url");t.preventDefault();var n=new FormData,l=document.querySelector("#file");n.append("internshipId",e.props.values.id),n.append("contract",l.files[0]),me()({method:"post",url:a+"?action=uploadContract",data:n,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t),console.log(t.data.message),e.setState({message:t.data.message}),e.showMessage(t.data.message)}))},e.onFileSelect=function(){var t=document.querySelector("#file");console.log(t.files[0]),t.files[0]&&e.setState({currentFile:t.files[0].name})},e.showMessage=function(){var t=Object(oe.a)(ie.a.mark((function t(a){return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("success"!==a){t.next=8;break}return console.log("success"),e.setState({snackErrLevel:"success",showSnack:!0,snackMessage:"Jeeee ... alles abgespeichert. Sie werden gleich weitergeleitet!"}),t.next=5,new Promise((function(e){return setTimeout(e,2e3)}));case 5:e.props.setCompleted(null,null,7),t.next=9;break;case 8:e.setState({snackErrLevel:"error",showSnack:!0,snackMessage:"WOW ... da ist was schief gelaufen"});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex rounded",style:{backgroundImage:"url(".concat(le.a,")"),height:"65vh",backgroundSize:"50vh",backgroundRepeat:"no-repeat",backgroundPosition:" bottom right",backgroundColor:"white"}},r.a.createElement("div",{className:"justify-content-md-center m-3 "},r.a.createElement("div",{className:"justify-content-md-center"},r.a.createElement("h1",{style:{fontSize:80}},"Upload des Praktikumsvertrages")),r.a.createElement("div",{style:{fontSize:20}},"Bitte Lade deinen ausgef\xfcllten und unterschriebenen Vertrag hoch"),r.a.createElement("div",{className:"justify-content-md-center w-25"},r.a.createElement("form",{onSubmit:this.uploadData},r.a.createElement("div",{className:"input-group w-100 m-2"},r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",{type:"file",id:"file",ref:"fileUploader",onChange:function(){e.onFileSelect()}}),r.a.createElement("label",{className:"custom-file-label",htmlFor:"file"},this.state.currentFile))),r.a.createElement(w.a,{variant:"light",className:"btn-outline-primary px-4 m-2 w-100",type:"submit"},"Upload",r.a.createElement(ae.a,{className:"ml-2"}))))),r.a.createElement(I.a,{open:this.state.showSnack,autoHideDuration:5e3,onClose:function(){e.setState({showSnack:!1})}},r.a.createElement(D.a,{severity:this.state.snackErrLevel},this.state.snackMessage)))}}]),a}(l.Component),de=(a(548),function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={internshipStatus:"unknown",internshipStatusDescr:""},e.getConfirmationStatus=function(){var t=a(10),n=localStorage.getItem("url"),l=new URLSearchParams;l.append("id",e.props.values.id),t({method:"post",url:n+"?action=getStateByInternship",data:l}).then((function(t){e.setState({internshipStatus:t.data.name}),e.setState({internshipStatusDescr:t.data.description}),console.log(t.data.description)}))},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){console.log(this.getConfirmationStatus())}},{key:"render",value:function(){var e={num:[4,7],rps:.9,radius:[4,90],life:[1.5,3],v:[2,3],tha:[-40,40],alpha:[.6,0],scale:[.1,.4],position:"all",color:[["#AAABBF","#023059","#F2C335","#F2D06B"]],cross:"dead",random:10};return Math.random()>.85&&(e=Object.assign(e,{onParticleUpdate:function(e,t){e.beginPath(),e.rect(t.p.x,t.p.y,2*t.radius,2*t.radius),e.fillStyle=t.color,e.fill(),e.closePath()}})),r.a.createElement("div",{style:{height:"65vh",backgroundColor:"#fff",position:"relative"},className:"d-flex rounded"},r.a.createElement("div",{style:{position:"absolute"},className:"h-100 d-flex justify-content-center align-items-center"},r.a.createElement("div",{className:" w-50"},r.a.createElement("h1",{className:"m-4"},this.state.internshipStatus),r.a.createElement("h3",{className:"text-center m-2 border-top p-4"},this.state.internshipStatusDescr))))}}]),n}(l.Component)),pe=a(168),he=a(370),ge=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:[],selectionOpen:!1,noTutorFound:!1},e.loadData=function(){var t=a(10),n=localStorage.getItem("url");n+="?action=getTutorByCompanyId";var l=new URLSearchParams;l.append("id",e.props.companyId),t({method:"post",url:n,data:l}).then((function(t){0===t.data.length?e.setState({data:t.data,noTutorFound:!0}):e.setState({data:t.data,noTutorFound:!1})}))},e.onClick=function(t){e.props.setCompleted("tutor_company_id",t,4)},e.handleCloseSnackbar=function(){e.setState({noTutorFound:!1})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex justify-content-center align-items-center bg-light"},r.a.createElement(N.a,{className:"justify-content-md-center"},r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement("h1",null,"Firmentutor")),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(Q.a,{in:this.state.selectionwOpen},r.a.createElement(N.a,null,r.a.createElement("div",{className:"row pt-2"},r.a.createElement("h5",null,"Welchen Praktikumstutor hast du?"))))),r.a.createElement(C.a,null,r.a.createElement($,{onClick:this.onClick,default:this.props.default,data:this.state.data}))),r.a.createElement(I.a,{open:this.state.noTutorFound,autoHideDuration:1e4,onClose:function(){e.setState({noTutorFound:!1})}},r.a.createElement(D.a,{severity:"info",onClose:this.handleCloseSnackbar},"Kein Tutor f\xfcr diese Firma gefunden!")))}}]),n}(l.Component),fe=a(263),Ee=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={currentStep:0,loadedData:!1,values:[],steps:[{id:0,title:"Praktikumsstelle Aussuchen",completed:!0},{id:1,title:"Zeitraum angeben",object:null,completed:!1},{id:2,title:"Tutoren Schulen",object:null,completed:!1},{id:3,title:"Tutoren Firma",object:null,completed:!1},{id:4,title:"Pers\xf6nliche Informationen",object:null,completed:!1},{id:5,title:"Praktikumsvertrag Download und Ausf\xfcllen",object:null,completed:!1},{id:6,title:"Praktikumsvertrag Upload",object:null,completed:!1},{id:7,title:"Auf Best\xe4tigung warten",object:null,completed:!1}]},e.setCompleted=function(t,a,n){var l=e.state.values;if(l[t]=a,l.state_id=e.state.currentStep+1,e.setState({values:l}),e.dataUpload(l),"forceNext"!==n){if(null!==n){var r=e.state.steps;r[n].completed=!0,e.setState({steps:r}),e.onChange(e.state.currentStep+1)}}else e.onChange(e.state.currentStep+1)},e.onChange=function(t){var a=0;e.state.steps.map((function(e){return e.completed&&(a=e),!1})),a.id+1>t&&e.setState({currentStep:t})},e.dataUpload=function(e){var t=a(10),n=null,l=null;try{n=e.from.getFullYear()+"-"+(e.from.getMonth()+1)+"-"+e.from.getDate(),l=e.to.getFullYear()+"-"+(e.to.getMonth()+1)+"-"+e.to.getDate()}catch(s){}var r=new URLSearchParams;r.append("company_id",e.company_id),r.append("from",n),r.append("id",e.id),r.append("rating",e.rating),r.append("schoolclass_id",e.schoolclass_id),r.append("state_id",e.state_id),r.append("student_id",e.student_id),r.append("to",l),r.append("tutor",e.tutor),r.append("tutor_company_id",e.tutor_company_id),t({method:"post",url:localStorage.getItem("url")+"?action=internshipDataUpload",data:r}).then((function(e){console.log(e)}))},e.getStepComponent=function(){if(e.state.loadedData)switch(e.state.currentStep){case 0:return r.a.createElement(K,{default:e.state.values.company_id,setCompleted:e.setCompleted});case 1:return r.a.createElement(Z,{default:{from:e.state.values.from,to:e.state.values.to},setCompleted:e.setCompleted});case 2:return r.a.createElement(ee,{default:e.state.values.tutor,setCompleted:e.setCompleted});case 3:return r.a.createElement(ge,{default:e.state.values.tutor,companyId:e.state.values.company_id,setCompleted:e.setCompleted});case 4:return r.a.createElement(te,{currentUser:e.props.currentUser,setCompleted:e.setCompleted});case 5:return r.a.createElement(re,{values:e.state.values,setCompleted:e.setCompleted});case 6:return r.a.createElement(ue,{setCompleted:e.setCompleted,values:e.state.values});case 7:return r.a.createElement(de,{setCompleted:e.setCompleted,values:e.state.values});default:return null}},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.loadFromJson(this.props.match.params.id)}},{key:"loadFromJson",value:function(e){var t=this;console.log(e);var n=a(10),l=localStorage.getItem("url");n({url:l+"?action=getInternshipById&id="+e}).then((function(e){if(console.log(l),void 0===e.data.error){console.log(e),t.setState({values:e.data});var a=t.state.steps;a.map((function(t){e.data.state_id>=t.id&&(t.completed=!0)})),t.setState({steps:a}),null==e.data.state_id?t.setState({currentStep:0}):e.data.state_id<7?t.setState({currentStep:parseInt(e.data.state_id)}):e.data.state_id>=7&&t.setState({currentStep:6}),t.setState({loadedData:!0})}else console.error("ERROR LOADING DATA")}))}},{key:"setValues",value:function(e,t){this.setState(e,t)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"classViewContent bg-light",style:{minWidth:100}},r.a.createElement(he.a,{className:"mb-3"},r.a.createElement(pe.a,{href:"/loggedin"},"Klassenansicht"),r.a.createElement(pe.a,{href:"/loggedin/Student/ClassOverview/internshipSteps",active:!0},"Praktikumsschritte")),r.a.createElement("div",{className:"overflow-auto"},r.a.createElement(x.a,{style:{color:"black"},labelPlacement:"vertical",onChange:this.onChange,current:this.state.currentStep},this.state.steps.map((function(t,a){return e.state.currentStep,a===e.state.currentStep?r.a.createElement(x.a.Step,{style:{color:"black"},icon:r.a.createElement("div",{style:{textAlign:"center"}},a+1),key:a,title:t.title}):r.a.createElement(x.a.Step,{key:a,icon:r.a.createElement(fe.a,null),title:t.title})})))),this.getStepComponent())}}]),n}(l.Component),ve=(a(549),a(371)),ye=a(714),be=a(731),Se=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={show:!1,token:"",data:null,schoolClassData:null,submitted:!1,redirect:"",redirectToLink:!1,selecteditem:"Alle"},e.getClassesInSchoolYear=function(e,t){var a=[];return t.map((function(t){t.schoolyear===e&&a.push(t)})),a},e.displayClasses=function(){function t(e){var t=Number(e).toString(16);return t.length<2&&(t="0"+t),t}function a(){var e=[];return e.push(t(255)+""+t(203)+t(0)),e.push(t(0)+""+t(48)+t(80)),e[Math.floor(Math.random()*e.length)]}if(!e.state.schoolClassData)return r.a.createElement("div",null);var n=[];return e.getSchoolYears(e.state.schoolClassData).map((function(t,l){var s=[];e.getClassesInSchoolYear(t,e.state.schoolClassData).map((function(t){var n,l;s.push(r.a.createElement(_.a,{bg:"light",key:t.id,className:"m-2 w-25 text-center",onClick:function(){return e.openClassInfo(t.id)}},r.a.createElement(_.a.Header,null,(n=t.TeacherFirstName,l=t.TeacherSurname,void 0===n||void 0===l?r.a.createElement("div",{className:"d-flex align-items-baseline"},r.a.createElement(X.a,{style:{backgroundColor:"#"+a()}},"MM"),r.a.createElement("div",{className:"ml-2"},"Max Muster")):r.a.createElement("div",{className:"d-flex align-items-baseline"},r.a.createElement(X.a,{style:{backgroundColor:"#"+a()}},function(e,t){return e.substring(0,1).toUpperCase()+t.substring(0,1).toUpperCase()}(n,l)),r.a.createElement("div",{className:"ml-2"},n+" "+l)))),r.a.createElement(_.a.Body,null,r.a.createElement("h3",null,t.name))))})),n.push(r.a.createElement(_.a,{key:l,className:"my-2"}," ",r.a.createElement(_.a.Header,{className:"text-center"},r.a.createElement("h2",null,t)),r.a.createElement(_.a.Body,{className:"dividerList"},s)))})),n},e.getSchoolYears=function(e){var t=[];return e.map((function(e){t.includes(e.schoolyear)||t.push(e.schoolyear)})),t},e.getAllClasses=function(){var t=a(10),n=localStorage.getItem("url");t({method:"post",url:n+="?action=getAllClasses"}).then((function(t){e.setState({schoolClassData:t.data})}))},e.getAllSpecialization=function(){var t=localStorage.getItem("url");t+="?action=getAllSpecializations",me()({method:"post",url:t}).then((function(t){t.data.push({id:"-1",description:"Alle"}),e.setState({data:t.data})}))},e.getClassesByKey=function(t){var n=localStorage.getItem("url");n+="?action=getClassBySpecializationsId";var l=new URLSearchParams;l.append("id",t),a(10)({method:"post",url:n,data:l}).then((function(t){e.setState({schoolClassData:t.data})}))},e.getKeyFromSelected=function(t){if("-1"===t)e.getAllClasses(),e.setState({selecteditem:e.state.data[e.state.data.length-1].description});else{for(var a=0;a<e.state.data.length;a++)t==e.state.data[a].id&&e.setState({selecteditem:e.state.data[a].description});e.getClassesByKey(t)}},e.insertDataIntoDropdown=function(){if(null!=e.state.data)return e.state.data.map((function(e){return r.a.createElement(ve.a,{key:e.id,eventKey:e.id},e.description)}))},e.openClassInfo=function(t){e.setState({redirect:"./ClassInformation/"+t,redirectToLink:!0})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getAllSpecialization(),this.getAllClasses()}},{key:"render",value:function(){var e=this;return this.state.data?!1!==this.state.redirectToLink?(console.log(r.a.createElement(p.a,{to:this.state.redirect})),r.a.createElement(p.a,{to:this.state.redirect})):r.a.createElement("div",{className:"w-100 adminViewContent"},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/Administration",active:!0},"Administration")),r.a.createElement(C.a,null,r.a.createElement(N.a,{className:"m-5"},r.a.createElement("h1",null,"Alle Klassen"))),r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement("label",null,"Filtern Nach: "),r.a.createElement(ye.a,null,[be.a].map((function(t,a){return r.a.createElement(t,{className:"warning",title:e.state.selecteditem,id:"dropdown-button-drop-".concat(a),key:a,onSelect:e.getKeyFromSelected},e.insertDataIntoDropdown())}))))),r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement("div",{className:"p-1"},r.a.createElement("div",{id:"classes"},this.displayClasses()))))):r.a.createElement("div",null)}}]),n}(l.Component),Ce=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={selectedTeacher:"",selectedSpecialization:"",generateToken:"",className:"",schoolyear:"",teachers:[],specializations:[],redirect:"",redirectToLink:!1,errorIsOpen:!1,dialogIsOpen:!1,new_Specialization:"",errorMessage:"Bitte kontrollieren sie ob alle Felder ausgef\xfcllt sind!"},e.handleChangeTeachers=function(t){e.setState({selectedTeacher:t})},e.handleChangeSpecialization=function(t){e.setState({selectedSpecialization:t})},e.handleChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.validateForm=function(){var t=e.state.schoolyear,a=e.state.className,n=e.state.selectedSpecialization.value,l=e.state.selectedTeacher.value,r=e.state.generateToken,s=t.split("-");return console.log(s),(s||2===s.length||4===s[0].length||4===s[1].length)&&!!(t&&a&&n&&l&&r)||(e.setState({errorIsOpen:!0}),!1)},e.handleSubmit=function(t){if(console.log("e"),t.preventDefault(),e.validateForm()){var n=a(10),l=localStorage.getItem("url");l+="?action=createClass";var r=new URLSearchParams;r.append("schoolyear",e.state.schoolyear),r.append("name",e.state.className),r.append("token",e.state.generateToken),r.append("specialization",e.state.selectedSpecialization.value),r.append("classteacher_id",e.state.selectedTeacher.value),n({method:"post",url:l,data:r}).then((function(t){console.log(t.data),"successful"===t.data?e.toAdministration():e.setState({errorMessage:"Etwas ist schiefgelaufen :/"})}))}},e.toAdministration=function(){e.setState({redirect:"/loggedin/Administration/",redirectToLink:!0})},e.toNewClassTeacher=function(){e.setState({redirect:"/loggedin/Administration/NewSchoolperson",redirectToLink:!0})},e.handleClose=function(){e.setState({errorIsOpen:!1})},e.handleDialogClose=function(){e.setState({dialogIsOpen:!1})},e.handleDialogSave=function(){e.setState({dialogIsOpen:!1});var t=e.state.specializations,a={value:e.state.new_Specialization,label:e.state.new_Specialization};t.push({value:e.state.new_Specialization,label:e.state.new_Specialization}),console.log(t),e.setState({selectedSpecialization:a,specializations:t})},e.handleDialogOpen=function(){e.setState({dialogIsOpen:!0})},e.handleNewSpec=function(t){e.setState({new_Specialization:t.target.value})},e.generateToken=function(){var t=a(10),n=localStorage.getItem("url");t({method:"post",url:n+="?action=getCreatedToken"}).then((function(t){e.setState({generateToken:t.data})}))},e.getAllSpecializations=function(){var t=a(10),n=localStorage.getItem("url");t({method:"post",url:n+="?action=getAllSpecializations"}).then((function(t){console.log(t.data);var a=t.data.map((function(e){return{value:e.id,label:e.description}}));e.setState({specializations:a})}))},e.getAllTeachers=function(){var t=a(10),n=localStorage.getItem("url");t({method:"post",url:n+="?action=getAllTeachers"}).then((function(t){console.log(t.data);var a=t.data.map((function(e){var t=e.firstname+" "+e.surname;return{value:e.id,label:t}}));e.setState({teachers:a})}))},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getAllTeachers(),this.getAllSpecializations(),this.generateToken()}},{key:"render",value:function(){var e=this;return!1!==this.state.redirectToLink?r.a.createElement(p.a,{to:this.state.redirect}):r.a.createElement("div",{className:"w-100 adminViewContent"},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/Administration"},"Administration"),r.a.createElement(pe.a,{href:"/loggedin/Administration/newClass",active:!0},"Klasse erstellen")),r.a.createElement(C.a,null,r.a.createElement(N.a,{className:"m-5"},r.a.createElement("h1",null,"Klasse Hinzuf\xfcgen"))),r.a.createElement(I.a,{open:this.state.errorIsOpen,autoHideDuration:1e4,onClose:function(){e.setState({errorIsOpen:!1})}},r.a.createElement(D.a,{severity:"error",onClose:this.handleClose},this.state.errorMessage)),r.a.createElement(z.a,{open:this.state.dialogIsOpen,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Fachrichtung"),r.a.createElement(M.a,null,r.a.createElement(P.a,null,"Geben sie im untenstehenden Textfeld die neue Fachrichtung ein!"),r.a.createElement(F.a,{autoFocus:!0,margin:"dense",id:"specializations",label:"Fachrichtung",type:"text",fullWidth:!0,onChange:this.handleNewSpec})),r.a.createElement(B.a,null,r.a.createElement(w.a,{onClick:this.handleDialogClose,color:"primary"},"Abbrechen"),r.a.createElement(w.a,{onClick:this.handleDialogSave,color:"primary"},"Speichern"))),r.a.createElement("form",{name:"newClass",onSubmit:this.handleSubmit},r.a.createElement(N.a,{className:"justify-content-md-center classAddingInformation"},r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement("input",{className:"w-50 form-control",type:"text",name:"className",id:"className",placeholder:"Klasse",value:this.state.className,onChange:this.handleChange})),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement("input",{className:"w-50 form-control",type:"text",name:"schoolyear",id:"schoolyear",placeholder:"Schuljahr",value:this.state.schoolyear,onChange:this.handleChange,required:!0,pattern:"[0-9]{4}[-][0-9]{4}",title:"2020-2021"})),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement("div",{className:"w-50"},r.a.createElement(T.a.Label,null,"Lehrer"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"w-75 mr-2"},r.a.createElement(j.a,{options:this.state.teachers,value:this.state.selectedTeacher,onChange:this.handleChangeTeachers,placeholder:"Klassenlehrer",name:"newClass"})),r.a.createElement("div",{className:"ml-2 w-25"},r.a.createElement(w.a,{className:"btn btn-primary",onClick:function(){return e.toNewClassTeacher()}},"Neuer Lehrer"))))),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement("div",{className:"w-50"},r.a.createElement(T.a.Label,null,"Fachrichtung"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"w-75 mr-2"},r.a.createElement(j.a,{options:this.state.specializations,value:this.state.selectedSpecialization,onChange:this.handleChangeSpecialization,placeholder:"Fachrichtung",name:"selectedSpecialization"})),r.a.createElement("div",{className:"ml-2 w-25"},r.a.createElement(w.a,{className:"btn btn-primary",onClick:function(){return e.handleDialogOpen()}},"Neuer Fachrichtung"))))),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement("div",{className:"justify-content-md-center w-50"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("input",{className:"w-75 form-control",type:"text",name:"token",placeholder:"Token",value:this.state.generateToken,disabled:!0}),r.a.createElement(w.a,{className:"btn btn-primary",onClick:function(){return e.generateToken()}},"Token generieren")))),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Klasse erstellen")))))}}]),n}(l.Component),Ne=a(161),ke=a.n(Ne),we=a(715),Ie=(a(550),a(123)),De=a.n(Ie),Oe=a(124),xe=a.n(Oe),Ae=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={redirect:"",redirectToLink:!1,class_id:null,confirmOpen:!1},e.showAllStudents=function(){if(e.state.data)return r.a.createElement("div",null,r.a.createElement(_.a,null,r.a.createElement(_.a.Header,null,"Sch\xfcler:"),r.a.createElement(_.a.Body,null,r.a.createElement("div",{className:"d-flex flex-row"},e.state.data.map((function(t,a){return r.a.createElement(_.a,{className:"m-2 p-2 w-25 ",key:a,onClick:function(){return e.openStudentInfo(t.id)}},r.a.createElement("div",null,r.a.createElement("span",{className:"text-secondary"},"Name:"),r.a.createElement("span",{className:"text-highlited"}," ",t.firstname," ",t.surname)))}))))))},e.showClassInfo=function(){function t(e){for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);return t}function a(e){var t=(16777215&e).toString(16).toUpperCase();return"00000".substring(0,6-t.length)+t}if(e.state.classInfo)return r.a.createElement("div",null,r.a.createElement("h1",null,"Informationen \xfcber die Klasse: ",e.state.classInfo.name),r.a.createElement(C.a,{className:"m-3"},r.a.createElement(N.a,null,r.a.createElement(C.a,null,r.a.createElement("div",{style:{margin:"0px"},className:"text-secondary"},"Klassenlehrer:")),r.a.createElement(C.a,null,(n=e.state.classInfo.TeacherFirstName,l=e.state.classInfo.TeacherSurname,void 0===n||void 0===l?r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(X.a,{style:{backgroundColor:"#"+a(t("Max muster"))}},"MM"),r.a.createElement("div",{className:"ml-2"},"Max Mustermann")):r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(X.a,{style:{backgroundColor:"#"+a(t(n+" "+l))}},function(e,t){return e.substring(0,1).toUpperCase()+t.substring(0,1).toUpperCase()}(n,l)),r.a.createElement("div",{className:"ml-2"},n+" "+l))))),r.a.createElement(N.a,null,r.a.createElement(C.a,null,r.a.createElement("div",{style:{margin:"0px"},className:"text-secondary"},"Token")),r.a.createElement(C.a,null,r.a.createElement("div",{className:"p-2 ml-2"},e.state.classInfo.token))),r.a.createElement(N.a,null,r.a.createElement(C.a,null,r.a.createElement("div",{style:{margin:"0px"},className:"text-secondary"},"Schuljahr")),r.a.createElement(C.a,null,r.a.createElement("div",null,e.state.classInfo.schoolyear))),r.a.createElement(N.a,null,r.a.createElement(C.a,null,r.a.createElement("div",{style:{margin:"0px"},className:"text-secondary"},e.deactive_activated(e.state.classInfo.active))),r.a.createElement(C.a,null,r.a.createElement("div",{className:"ml-4"},e.block_unblock(e.state.classInfo.active)))),r.a.createElement(N.a,null,r.a.createElement(C.a,null,r.a.createElement("div",{style:{margin:"0px"},className:"text-secondary"},"Klasse l\xf6schen")),r.a.createElement(C.a,{onClick:function(){return e.setConfirmation()}},r.a.createElement("div",{style:{marginLeft:"2rem"}},r.a.createElement(ke.a,null))))));var n,l},e.setClose=function(){e.setState({confirmOpen:!1})},e.block_unblock=function(t){return console.log(t),0==t?r.a.createElement(De.a,{onClick:e.blockClass}):r.a.createElement(xe.a,{onClick:e.blockClass})},e.blockClass=function(){var t=a(10),n=localStorage.getItem("url");n+="?action=invertEnabledSchoolclass";var l=new URLSearchParams;l.append("id",e.state.class_id),t({method:"post",url:n,data:l}).then((function(t){console.log(t.data),e.setState({classInfo:t.data})}))},e.deactive_activated=function(e){return 1==e?"Deaktivieren":"Aktivieren"},e.deleteClass=function(){var t=a(10),n=localStorage.getItem("url");n+="?action=deleteSchoolclass";var l=new URLSearchParams;l.append("schoolclass_id",e.state.class_id),t({method:"post",url:n,data:l}).then((function(t){e.toAdministration(),console.log(t)})),e.setClose()},e.toAdministration=function(){e.setState({redirect:"/loggedin/Administration/",redirectToLink:!0})},e.setConfirmation=function(){e.setState({confirmOpen:!0})},e.getAllStudents=function(t){var n=a(10),l=localStorage.getItem("url");l+="?action=getStudentByClass";var r=new URLSearchParams;r.append("id",t),n({method:"post",url:l,data:r}).then((function(t){console.log(t),e.setState({data:t.data})}))},e.getClassInfo=function(t){console.log(t);var n=a(10),l=localStorage.getItem("url");l+="?action=getClassById";var r=new URLSearchParams;r.append("id",t),n({method:"post",url:l,data:r}).then((function(t){console.log("res",t),e.setState({classInfo:t.data})}))},e.openStudentInfo=function(t){e.setState({redirect:null}),e.setState({redirect:"/loggedin/Administration/ClassInformation/"+e.state.class_id+"/StudentInformation/"+t,redirectToLink:!0})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){console.log("hey"),this.getClassInfo(this.props.match.params.id),this.setState({class_id:this.props.match.params.id}),this.getAllStudents(this.props.match.params.id)}},{key:"render",value:function(){return!1!==this.state.redirectToLink?(console.log(r.a.createElement(p.a,{to:this.state.redirect})),r.a.createElement(p.a,{to:this.state.redirect})):r.a.createElement("div",{className:"adminViewContent bg-light"},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/Administration"},"Administration"),r.a.createElement(pe.a,{href:"/loggedin/Administration/ClassInformation/",active:"active"},"ClassInformation")),this.showClassInfo(),this.showAllStudents(),r.a.createElement(z.a,{open:this.state.confirmOpen,onClose:this.setClose,"aria-labelledby":"confirm-dialog"},r.a.createElement(R.a,{id:"confirm-dialog"},"Klasse l\xf6schen?"),r.a.createElement(M.a,null,"Sind Sie sich sicher, diese Klasse zu l\xf6schen? "),r.a.createElement(B.a,null,r.a.createElement(we.a,{variant:"contained",onClick:this.setClose,className:"bg-dark text-white"},"Nein"),r.a.createElement(we.a,{variant:"contained",onClick:this.deleteClass,className:"bg-primary"},"Ja"))))}}]),n}(l.Component),je=a(374),_e=a.n(je),Te=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"w-100 p-4 mt-2 d-flex justify-stretch bg-light  align-items-center "},r.a.createElement("div",{className:"flex-fill"},r.a.createElement(C.a,null,r.a.createElement(N.a,{className:" d-flex"},r.a.createElement("img",{width:100,src:_e.a,alt:"Logo"})))),r.a.createElement("div",{className:"text-center flex-fill"},r.a.createElement("p",null,"Dies ist ein Projekt der 4. Fachrichtung Informatik der Landesberufsschule f\xfcr Handwerk und Industrie Bozen"),r.a.createElement("a",{href:"http://www.bozen.berufsschule.it/"},"Zur Schulseite")),r.a.createElement("div",{className:"text-right flex-fill"},r.a.createElement("div",{className:"m-1"},"(C) Praktikumsfinder 2020"),r.a.createElement(h.b,{to:"/impressum"},"Zum Impressum ")))}}]),a}(l.Component),Le=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={redirect:"",redirectToLink:!1,errorIsOpen:!1,generateToken:"",dialogIsOpen:!1,selectedOptionDistrict:null,selectedOptionSpecializations:null},e.onChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.handleClose=function(){e.setState({errorIsOpen:!1})},e.getAllSpecialization=function(){var t=localStorage.getItem("url");t+="?action=getAllRoles",a(10)({method:"post",url:t}).then((function(t){var a=t.data.map((function(e){return{value:e.id,label:e.description}}));e.setState({specializations:a})}))},e.getAllDistricts=function(){var t=localStorage.getItem("url");t+="?action=getAllDistricts",a(10)({method:"post",url:t}).then((function(t){var a=t.data.map((function(e){return{value:e.id,label:e.name}}));e.setState({districts:a})}))},e.validateForm=function(){console.log(e.state);var t=e.state.address,a=e.state.email,n=e.state.name,l=e.state.phonenumber,r=e.state.cap,s=e.state.selectedOptionDistrict,i=e.state.selectedOptionSpecializations;return!!(t&&a&&n&&l&&r&&s&&i)||(e.setState({errorIsOpen:!0}),!1)},e.handleChangeDistricts=function(t){e.setState({selectedOptionDistrict:t})},e.handleChangeSpecializations=function(t){e.setState({selectedOptionSpecializations:t})},e.generateToken=function(){var t=a(10),n=localStorage.getItem("url");t({method:"post",url:n+="?action=getCreatedToken"}).then((function(t){e.setState({generateToken:t.data})}))},e.toAdministration=function(){e.setState({redirect:"/loggedin/Administration",redirectToLink:!0})},e.handleDialogClose=function(){e.setState({dialogIsOpen:!1})},e.handleDialogSave=function(){e.setState({dialogIsOpen:!1});var t={value:e.state.new_District,label:e.state.new_District};e.state.districts.push({value:e.state.new_District,label:e.state.new_District}),e.setState({selectedOptionDistrict:t})},e.handleDialogOpen=function(){e.setState({dialogIsOpen:!0})},e.handleDialogOpenSpec=function(){e.setState({dialogNewSpecIsOpen:!0})},e.handleDialogCloseSpec=function(){e.setState({dialogNewSpecIsOpen:!1})},e.handleDialogSaveSpec=function(){e.setState({dialogNewSpecIsOpen:!1});var t=e.state.specializations,a={value:e.state.new_Specialization,label:e.state.new_Specialization};t.push({value:e.state.new_Specialization,label:e.state.new_Specialization}),console.log(t),e.setState({selectedOptionSpecializations:a,specializations:t})},e.handleNewSpec=function(t){e.setState({new_Specialization:t.target.value})},e.handleNewDistrict=function(t){e.setState({new_District:t.target.value})},e.handleSubmit=function(t){if(t.preventDefault(),e.validateForm()){var n=localStorage.getItem("url"),l=new URLSearchParams;l.append("address",e.state.address),l.append("email",e.state.email),l.append("companyname",e.state.name),l.append("phonenumber",e.state.phonenumber),l.append("token",e.state.generateToken),l.append("cap",e.state.cap),l.append("districtname",e.state.selectedOptionDistrict.label),l.append("specialization",e.state.selectedOptionSpecializations.value),a(10)({method:"post",url:n+="?action=createCompany",data:l}).then((function(t){console.log(t.data),e.toAdministration()}))}},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.generateToken(),this.getAllDistricts(),this.getAllSpecialization()}},{key:"render",value:function(){var e=this;return!1!==this.state.redirectToLink?r.a.createElement(p.a,{to:this.state.redirect}):r.a.createElement("div",{className:"adminViewContent bg-light"},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/Administration"},"Administration"),r.a.createElement(pe.a,{href:"/loggedin/Administration/newCompany",active:!0},"Unternehmen erstellen")),r.a.createElement(C.a,null,r.a.createElement(N.a,{className:"m-5"},r.a.createElement("h1",null,"Unternehmen erstellen"))),r.a.createElement(I.a,{open:this.state.errorIsOpen,autoHideDuration:1e4,onClose:function(){e.setState({errorIsOpen:!1})}},r.a.createElement(D.a,{severity:"error",onClose:this.handleClose},"Bitte kontrollieren sie ob alle Felder ausgef\xfcllt sind!")),r.a.createElement("div",null,r.a.createElement(z.a,{open:this.state.dialogIsOpen,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Neuer Bezirk"),r.a.createElement(M.a,null,r.a.createElement(P.a,null,"Geben sie im untenstehenden Textfeld den neuen Bezirk ein!"),r.a.createElement(F.a,{autoFocus:!0,margin:"dense",id:"district",label:"Bezirk",type:"text",fullWidth:!0,onChange:this.handleNewDistrict})),r.a.createElement(B.a,null,r.a.createElement(w.a,{onClick:this.handleDialogClose,color:"primary"},"Abbrechen"),r.a.createElement(w.a,{onClick:this.handleDialogSave,color:"primary"},"Speichern"))),r.a.createElement(z.a,{open:this.state.dialogNewSpecIsOpen,onClose:this.handleDialogCloseSpec,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Fachrichtung"),r.a.createElement(M.a,null,r.a.createElement(P.a,null,"Geben sie im untenstehenden Textfeld die neue Fachrichtung ein!"),r.a.createElement(F.a,{autoFocus:!0,margin:"dense",id:"specializations",label:"Fachrichtung",type:"text",fullWidth:!0,onChange:this.handleNewSpec})),r.a.createElement(B.a,null,r.a.createElement(w.a,{onClick:this.handleDialogCloseSpec,color:"primary"},"Abbrechen"),r.a.createElement(w.a,{onClick:this.handleDialogSaveSpec,color:"primary"},"Speichern")))),r.a.createElement(T.a,{onSubmit:this.handleSubmit},r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(T.a.Group,{controlId:"formUsername",className:"mt-3 w-50"},r.a.createElement(T.a.Label,null,"Namen des Unternehmens"),r.a.createElement(T.a.Control,{type:"text",name:"name",onChange:this.onChange,required:!0}))),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(T.a.Group,{controlId:"formCompanyEmail",className:"w-50"},r.a.createElement(T.a.Label,null,"Email des Unternehmens"),r.a.createElement(T.a.Control,{type:"email",name:"email",onChange:this.onChange,required:!0}))),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(T.a.Group,{controlId:"formPhonenumber",className:"w-50"},r.a.createElement(T.a.Label,null,"Telefonnummer des Unternehmens"),r.a.createElement(T.a.Control,{type:"text",name:"phonenumber",onChange:this.onChange,required:!0}))),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(T.a.Group,{controlId:"formAddress",className:"w-50"},r.a.createElement(T.a.Label,null,"Adresse"),r.a.createElement(T.a.Control,{type:"text",name:"address",onChange:this.onChange,required:!0}))),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(T.a.Group,{controlId:"formCap",className:"w-50"},r.a.createElement(T.a.Label,null,"PLZ"),r.a.createElement(T.a.Control,{type:"text",name:"cap",onChange:this.onChange,required:!0,pattern:"[0-9]{5,6}"}))),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement("div",{className:"w-50"},r.a.createElement(T.a.Label,null,"Fachrichtung"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"w-75 mr-2"},r.a.createElement(j.a,{options:this.state.specializations,value:this.state.selectedOptionSpecializations,onChange:this.handleChangeSpecializations,placeholder:"Fachrichtung",name:"selectedSpecialization"})),r.a.createElement("div",{className:"ml-2 w-25"},r.a.createElement(w.a,{className:"btn btn-primary",onClick:function(){return e.handleDialogOpenSpec()}},"Neuer Fachrichtung"))))),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement("div",{className:"w-50"},r.a.createElement(T.a.Label,null,"Berzirke"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"w-75 mr-2"},r.a.createElement(j.a,{options:this.state.districts,value:this.state.selectedOptionDistrict,onChange:this.handleChangeDistricts,placeholder:"W\xe4hlen sie hier den Bezirk aus!"})),r.a.createElement("div",{className:"ml-2 w-25"},r.a.createElement(w.a,{className:"btn btn-primary",onClick:function(){return e.handleDialogOpen()}},"Neuer Bezirk"))))),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(T.a.Group,{controlId:"formToken",className:"w-50"},r.a.createElement(T.a.Label,null,"Token"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"w-75 mr-2"},r.a.createElement(T.a.Control,{type:"text",name:"password",disabled:!0,required:!0,defaultValue:this.state.generateToken})),r.a.createElement("div",{className:"ml-2 w-25"},r.a.createElement(w.a,{className:"btn btn-primary",onClick:function(){return e.generateToken()}},"Token generieren"))))),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(w.a,{className:"m-2",variant:"success",type:"submit"},"Erstellen"))))}}]),n}(l.Component),ze=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(C.a,{className:"justify-content-md-center ml-3 mr-3"},r.a.createElement(T.a.Group,{controlId:"firstname",className:"mt-3 w-75"},r.a.createElement(T.a.Label,null,"Vorname"),r.a.createElement(T.a.Control,{type:"text",name:"firstname",value:this.props.firstname,onChange:this.props.handleChange,required:!0}))),r.a.createElement(C.a,{className:"justify-content-md-center ml-3 mr-3"},r.a.createElement(T.a.Group,{controlId:"surname",className:"mt-3 w-75"},r.a.createElement(T.a.Label,null,"Nachname"),r.a.createElement(T.a.Control,{type:"text",name:"surname",value:this.props.surname,onChange:this.props.handleChange,required:!0}))),r.a.createElement(C.a,{className:"justify-content-md-center ml-3 mr-3"},r.a.createElement(T.a.Group,{controlId:"email",className:"mt-3 w-75"},r.a.createElement(T.a.Label,null,"Email"),r.a.createElement(T.a.Control,{type:"email",name:"email",value:this.props.email,title:"",onChange:this.props.handleChange,required:!0}))),r.a.createElement(C.a,{className:"justify-content-md-center ml-3 mr-3"},r.a.createElement(T.a.Group,{controlId:"phonenumber",className:"mt-3 w-75"},r.a.createElement(T.a.Label,null,"Phonenumber"),r.a.createElement(T.a.Control,{type:"tel",name:"phonenumber",value:this.props.phonenumber,pattern:"[- s./0-9]{9,12}",title:"z.B 0471 123456 oder 333 487 9809",onChange:this.props.handleChange,required:!0}))))}}]),a}(l.Component),Re=a(119),Ve=a.n(Re),Me=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(C.a,{className:"justify-content-md-center ml-3 mr-3"},r.a.createElement(T.a.Group,{controlId:"companyName",className:"mt-3 w-75"},r.a.createElement(T.a.Label,null,"Name"),r.a.createElement(T.a.Control,{type:"text",name:"companyName",value:this.props.companyName,onChange:this.props.handleChange,required:!0}))),r.a.createElement(C.a,{className:"justify-content-md-center ml-3 mr-3"},r.a.createElement(T.a.Group,{controlId:"c_email",className:"mt-3 w-75"},r.a.createElement(T.a.Label,null,"Email"),r.a.createElement(T.a.Control,{type:"email",name:"c_email",value:this.props.c_email,onChange:this.props.handleChange,required:!0}))),r.a.createElement(C.a,{className:"justify-content-md-center ml-3 mr-3"},r.a.createElement(T.a.Group,{controlId:"c_phonenumber",className:"mt-3 w-75"},r.a.createElement(T.a.Label,null,"Telefonnummer"),r.a.createElement(T.a.Control,{type:"tel",name:"c_phonenumber",value:this.props.c_phonenumber,pattern:"[- s./0-9]{9,12}",title:"z.B 0471 123456 oder 333 487 9809",onChange:this.props.handleChange,required:!0}))),r.a.createElement(C.a,{className:"justify-content-md-center ml-3 mr-3"},r.a.createElement(T.a.Group,{controlId:"address",className:"mt-3 w-75"},r.a.createElement(T.a.Label,null,"Adresse"),r.a.createElement(T.a.Control,{type:"text",name:"address",value:this.props.address,onChange:this.props.handleChange,required:!0}))))}}]),a}(l.Component),Be=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={redirect:"",redirectToLink:!1,companyID:null,dialogIsOpen:!1,firstname:"",surname:"",email:"",phonenumber:"",companyName:"",address:"",c_email:"",c_phonenumber:"",errorIsOpen:!1,dialogEditIsOpen:!1},e.showAllCompanyTutors=function(){if(e.state.data)return r.a.createElement("div",null,r.a.createElement(_.a,null,r.a.createElement(_.a.Header,null,"Tutoren:"),r.a.createElement(_.a.Body,null,r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement(_.a,{className:"m-2  w-25 border-secondary",key:"new",onClick:function(){return e.handleDialogOpen()}},r.a.createElement("div",null,r.a.createElement(_.a.Header,null,"Neuer Tutor:"),r.a.createElement(_.a.Body,{className:"align-items-center d-flex justify-content-center"},r.a.createElement("h2",null,"+")))),e.state.data.map((function(t,a){return r.a.createElement(_.a,{className:"m-2 w-25 ",key:a},r.a.createElement(_.a.Header,null,t.firstname," ",t.surname),r.a.createElement(_.a.Body,null,r.a.createElement(_.a.Subtitle,null,r.a.createElement(N.a,{className:"m-2"},r.a.createElement(C.a,null,"Tel: ",t.phonenumber)),r.a.createElement(N.a,{className:"m-2"},r.a.createElement(C.a,null,"Email: ",t.email)),r.a.createElement(N.a,{className:"m-2",onClick:function(){return e.blockTutor(t.id)}},r.a.createElement(C.a,null,r.a.createElement("div",null,e.deactive_activated(t.isVerified)),r.a.createElement("div",{className:"ml-2"},e.block_unblockTutor(t.isVerified)))))))}))))))},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(d.a)({},n,l))},e.handleDialogClose=function(){e.setState({firstname:"",surname:"",email:"",phonenumber:"",dialogIsOpen:!1})},e.handleDialogOpen=function(){e.setState({dialogIsOpen:!0})},e.checkifStepFilledOut=function(){var t,a=e.state.firstname,n=e.state.surname,l=e.state.email,r=e.state.phonenumber;return(t=!(!a||!n||!l||!r))||e.setState({errorIsOpen:!0}),t},e.handleClose=function(){e.setState({errorIsOpen:!1})},e.checkifStepEditFilledOut=function(){var t,a=e.state.companyName,n=e.state.address,l=e.state.c_email,r=e.state.c_phonenumber;return(t=!(!a||!n||!l||!r))||e.setState({errorIsOpen:!0}),t},e.handleSubmit=function(t){if(t.preventDefault(),e.checkifStepFilledOut()){var n=localStorage.getItem("url"),l=new URLSearchParams;l.append("firstname",e.state.firstname),l.append("surname",e.state.surname),l.append("email",e.state.email),l.append("phonenumber",e.state.phonenumber),l.append("company_id",e.state.companyID),l.append("isVerified",1),l.append("isEmployed",1),a(10)({method:"post",url:n+="?action=createTutorCompany",data:l}).then((function(t){console.log(t.data),e.handleDialogClose(),e.getAllTutors(e.state.companyID)}))}},e.newTutor=function(){return r.a.createElement("div",null,r.a.createElement(I.a,{open:e.state.errorIsOpen,autoHideDuration:1e4,onClose:function(){e.setState({errorIsOpen:!1})}},r.a.createElement(D.a,{severity:"error",onClose:e.handleClose},"Bitte kontrollieren sie ob alle Felder ausgef\xfcllt sind!")),r.a.createElement(z.a,{open:e.state.dialogIsOpen,classes:{paper:e.state.styles},onClose:e.handleDialogClose,fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title"},r.a.createElement("div",null,r.a.createElement(R.a,{id:"form-dialog-title"},"Neuen Tutor hinzuf\xfcgen"),r.a.createElement(V.a,null),r.a.createElement(M.a,null,r.a.createElement(T.a,{id:"my-form",onSubmit:e.handleSubmit},r.a.createElement(ze,{handleChange:e.handleChange,firstname:e.state.firstname,surname:e.state.surname,email:e.state.email,phonenumber:e.state.phonenumber}))),r.a.createElement(V.a,{className:"mt-2"}),r.a.createElement(B.a,{className:"float-right"},r.a.createElement(w.a,{onClick:e.handleDialogClose,color:"primary"},"Abbrechen"),r.a.createElement(w.a,{className:" mt-2 m-2",form:"my-form",color:"primary",type:"submit"},"Erstellen")),r.a.createElement(V.a,null))))},e.showCompanyInfo=function(){if(e.state.company)return r.a.createElement("div",null,r.a.createElement("h1",null,"Informationen \xfcber das Unternehmen: ",e.state.company.name," "),r.a.createElement(C.a,{className:"m-3"},r.a.createElement(N.a,null,r.a.createElement(C.a,null,r.a.createElement("div",{style:{margin:"0px"},className:"text-secondary"},"Email:")),r.a.createElement(C.a,{className:"mr-1"},r.a.createElement("div",null,e.state.company.email))),r.a.createElement(N.a,null,r.a.createElement(C.a,null,r.a.createElement("div",{style:{margin:"0px"},className:"text-secondary"},"Phonenumber:")),r.a.createElement(C.a,{className:"mr-1"},r.a.createElement("div",null,e.state.company.phonenumber))),r.a.createElement(N.a,null,r.a.createElement(C.a,null,r.a.createElement("div",{style:{margin:"0px"},className:"text-secondary"},"Adresse:")),r.a.createElement(C.a,{className:"mr-1"},r.a.createElement("div",null,e.state.company.address))),r.a.createElement(N.a,null,r.a.createElement(C.a,null,r.a.createElement("div",{style:{margin:"0px"},className:"text-secondary"},"Cap:")),r.a.createElement(C.a,{className:"mr-1"},r.a.createElement("div",null,e.state.company.cap))),r.a.createElement(N.a,null,r.a.createElement(C.a,null,r.a.createElement("div",{style:{margin:"0px"},className:"text-secondary"},"Verifiziert:")),r.a.createElement(C.a,{className:"mr-1"},r.a.createElement("div",{style:{marginLeft:"1rem"}},e.getVerified(e.state.company.isVerified)))),r.a.createElement(N.a,null,r.a.createElement(C.a,null,r.a.createElement("div",{style:{margin:"0px"},className:"text-secondary"},e.deactive_activated(e.state.company.isVerified))),r.a.createElement(C.a,null,r.a.createElement("div",{className:"ml-4"},e.block_unblock(e.state.company.isVerified)))),r.a.createElement(N.a,{onClick:function(){return e.handleEditOpen()}},r.a.createElement(C.a,null,r.a.createElement("div",{style:{margin:"0px"},className:"text-secondary"},"Editieren")),r.a.createElement(C.a,null,r.a.createElement("div",{className:"ml-3"},r.a.createElement(Ve.a,null))))))},e.block_unblockTutor=function(e){return 0==e?r.a.createElement(De.a,null):r.a.createElement(xe.a,null)},e.block_unblock=function(t){return console.log(t),0==t?r.a.createElement(De.a,{onClick:e.blockCompany}):r.a.createElement(xe.a,{onClick:e.blockCompany})},e.blockTutor=function(t){var n=a(10),l=localStorage.getItem("url");l+="?action=invertIsVerifiedTutorCompanyReturnsAll";var r=new URLSearchParams;r.append("id",t),n({method:"post",url:l,data:r}).then((function(t){console.log(t.data),e.setState({data:t.data})}))},e.blockCompany=function(){var t=a(10),n=localStorage.getItem("url");n+="?action=invertIsVerifiedCompany";var l=new URLSearchParams;l.append("id",e.state.companyID),t({method:"post",url:n,data:l}).then((function(t){console.log(t.data),e.setState({company:t.data})}))},e.deactive_activated=function(e){return 1==e?"Deaktivieren":"Aktivieren"},e.getVerified=function(e){return 0===e?"Nein":"Ja"},e.getAllTutors=function(t){var n=a(10),l=localStorage.getItem("url");l+="?action=getTutorByCompanyId";var r=new URLSearchParams;r.append("id",t),n({method:"post",url:l,data:r}).then((function(t){console.log(t),e.setState({data:t.data})}))},e.setDialogForEdit=function(){return r.a.createElement(z.a,{open:e.state.dialogEditIsOpen,classes:{paper:e.state.styles},onClose:e.handleEditClose,fullWidth:!0,maxWidth:"sm","aria-labelledby":"form-dialog-title"},r.a.createElement("div",null,r.a.createElement(R.a,{id:"form-dialog-title"},"Unternehmen editieren"),r.a.createElement(V.a,null),r.a.createElement(M.a,null,r.a.createElement(T.a,{id:"my-form",onSubmit:e.handleSubmitEdit},r.a.createElement(Me,{handleChange:e.handleChange,companyName:e.state.companyName,address:e.state.address,c_email:e.state.c_email,c_phonenumber:e.state.c_phonenumber}))),r.a.createElement(V.a,{className:"mt-2"}),r.a.createElement(B.a,{className:"float-right"},r.a.createElement(w.a,{onClick:e.handleEditClose,color:"primary"},"Abbrechen"),r.a.createElement(w.a,{className:" mt-2 m-2",form:"my-form",color:"primary",type:"submit"},"Bearbeiten")),r.a.createElement(V.a,null)))},e.handleSubmitEdit=function(t){if(t.preventDefault(),e.checkifStepEditFilledOut()){var n=localStorage.getItem("url"),l=new URLSearchParams;l.append("companyname",e.state.companyName),l.append("address",e.state.address),l.append("c_email",e.state.c_email),l.append("phonenumber",e.state.c_phonenumber),l.append("company_id",e.state.companyID),a(10)({method:"post",url:n+="?action=editCompany",data:l}).then((function(t){console.log(t.data),e.handleEditClose(),e.getCompanyById(e.state.companyID)}))}},e.handleEditClose=function(){e.setState({dialogEditIsOpen:!1})},e.handleEditOpen=function(){console.log("hey"),e.setState({dialogEditIsOpen:!0})},e.getCompanyById=function(t){console.log(t);var n=a(10),l=localStorage.getItem("url");l+="?action=getCompanyById";var r=new URLSearchParams;r.append("id",t),n({method:"post",url:l,data:r}).then((function(t){console.log("res",t),e.setState({company:t.data,companyName:t.data.name,address:t.data.address,c_email:t.data.email,c_phonenumber:t.data.phonenumber})}))},e.openStudentInfo=function(t){e.setState({redirect:null}),e.setState({redirect:"/loggedin/Administration/ClassInformation/"+e.state.class_id+"/StudentInformation/"+t,redirectToLink:!0})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){console.log("hey"),this.getCompanyById(this.props.match.params.id),this.getAllTutors(this.props.match.params.id),this.setState({companyID:this.props.match.params.id})}},{key:"render",value:function(){return!1!==this.state.redirectToLink?(console.log(r.a.createElement(p.a,{to:this.state.redirect})),r.a.createElement(p.a,{to:this.state.redirect})):r.a.createElement("div",{className:"adminViewContent bg-light"},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/Administration"},"Administration"),r.a.createElement(pe.a,{href:"/loggedin/Administration/CompanyInformation/",active:"active"},"ClassInformation")),this.setDialogForEdit(),this.newTutor(),this.showCompanyInfo(),this.showAllCompanyTutors())}}]),n}(l.Component),Ue=a(101),Pe=(a(553),a(716)),Fe=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(e,l){var s;return Object(o.a)(this,n),(s=t.call(this,e,l)).state={show:!1,token:"",data:null,submitted:!1,redirect:!1,redirectToLink:"",newPraktikum:"",errorIsOpen:!1,message:"",message_color:""},s.joinClassAjax=function(e){var t=localStorage.getItem("url");t+="?action=joinClass&classId="+e,a(10)({method:"post",url:t}).then((function(e){"Token valid"!==e.data.message?s.setState({errorIsOpen:!0,message:e.data.message,message_color:"error"}):(s.setState({errorIsOpen:!0,message:e.data.message,message_color:"success"}),s.getAllInternshipsByStudent())}))},s.getAllInternshipsByStudent=function(){var e=localStorage.getItem("url");e+="?action=getOwnInternship",a(10)({method:"post",url:e}).then((function(e){s.setState({data:e.data})}))},s.handleCloseSnackbar=function(){s.setState({errorIsOpen:!1})},s.displayData=function(){var e=Object(Ue.a)(s);if(null!=s.state.data)return Object.keys(s.state.data).map((function(t){var a=t.split(",")[1],n=t.split(",")[0],l=s.state.data[t].active;return r.a.createElement(_.a,{key:t,className:"m-4 p-2"},r.a.createElement("h1",null,r.a.createElement("div",{className:"d-flex bd-highlight mb-3 align-items-baseline"},r.a.createElement("div",{className:"p-2 bd-highlight"},r.a.createElement("h1",null,a)),r.a.createElement("div",{className:"p-2 bd-highlight text-secondary"},r.a.createElement("h3",null,n)),r.a.createElement("div",{className:"ml-auto p-2 bd-highlight"},function(t,a){if("1"===t)return r.a.createElement(w.a,{title:"Praktikum hinzuf\xfcgen",onClick:function(){return e.createNewInternship(a)}},"+")}(l,s.state.data[t])))),s.state.data[t].internships.map((function(e,t){return 0===e.length?null:r.a.createElement(_.a,{onClick:function(){return s.openInternshipSteps(e.internship_id)},key:t,className:"m-2 p-2"},e.companyname,r.a.createElement(Pe.a,{className:"m-3",style:{color:"black"},animated:!1,variant:e.state_color,now:(a=e,a.state_id?a.state_id/6*100:100),label:e.state_name}));var a})))}))},s.openInternshipSteps=function(e){s.setState({redirectToLink:"./internshipSteps/"+e,redirect:!0}),console.log(s.state)},s.createNewInternship=function(e){var t=localStorage.getItem("url");t+="?action=makeInternship";var n=new URLSearchParams;console.log(e.id),n.append("schoolclass_id",e.id),a(10)({method:"post",url:t,data:n}).then((function(e){console.log(e),s.setState({newPraktikum:e.data.id}),console.log(e.data),s.setState({redirectToLink:"./internshipSteps/"+s.state.newPraktikum,redirect:!0})}))},null!=s.props.currentUser&&s.getAllInternshipsByStudent(),s}return Object(c.a)(n,[{key:"render",value:function(){var e=this;if(!1!==this.state.redirect)return r.a.createElement(p.a,{to:this.state.redirectToLink});var t=function(t){e.setState({show:t})},a=function(){t(!1);var a=document.getElementById("token").value;""!==a&&(e.setState({token:a}),e.joinClassAjax(a))};return r.a.createElement("div",{className:"classViewContent bg-light"},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/",active:!0},"Klassenansicht")),r.a.createElement(C.a,null,r.a.createElement(N.a,{className:"m-5"},r.a.createElement("h1",null,"Klassen\xfcbersicht")),r.a.createElement(N.a,{className:"col-auto"},r.a.createElement(w.a,{onClick:function(){t(!0)}},"Klasse hinzuf\xfcgen"))),r.a.createElement(I.a,{open:this.state.errorIsOpen,autoHideDuration:1e4,onClose:function(){e.setState({errorIsOpen:!1})}},r.a.createElement(D.a,{severity:this.state.message_color,onClose:this.handleCloseSnackbar},this.state.message)),r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement("div",{className:"p-1"},r.a.createElement(k.a,{show:this.state.show,onHide:a},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,null,"Bitte geben Sie den Klassencode ein")),r.a.createElement(k.a.Body,{className:""},r.a.createElement("input",{placeholder:"Token",id:"token",name:"token",className:" form-control d-flex justify-content-center align-items-center"})),r.a.createElement(k.a.Footer,null,r.a.createElement(w.a,{className:"secondary",onClick:a},"Schlie\xdfen"),r.a.createElement(w.a,{className:"primary",onClick:a},"Speichern und Schlie\xdfen"))),r.a.createElement("div",{id:"internships"},this.displayData())))))}}]),n}(l.Component),He=a(736),We=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={class_id:1,internships:null,studentInfo:""},e.checkClassID=function(t){return e.props.match.params.class_id?r.a.createElement(pe.a,{href:"/loggedin/Administration/StudentOverview"},"Alle Sch\xfcler"):r.a.createElement(pe.a,{href:"/loggedin/Administration/ClassInformation/"+t},"ClassInformation")},e.showStudent=function(){function t(e){for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);return t}function a(e){var t=(16777215&e).toString(16).toUpperCase();return"00000".substring(0,6-t.length)+t}if(e.state.data){var n=e.state.data,l=[];l.push(r.a.createElement("div",{key:n.id},r.a.createElement(C.a,{className:"m-3"},r.a.createElement(N.a,null,r.a.createElement(C.a,null,r.a.createElement("div",{style:{margin:"0px"},className:"text-secondary"},"Name")),r.a.createElement(C.a,null,(s=n.firstname,i=n.surname,s&&i?r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(X.a,{style:{backgroundColor:"#"+a(t(s+" "+i))}},function(e,t){return e.substring(0,1).toUpperCase()+t.substring(0,1).toUpperCase()}(s,i)),r.a.createElement("div",{className:"ml-2"},s+" "+i)):r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(X.a,{style:{backgroundColor:"#"+a(t("Max muster"))}},"MM"),r.a.createElement("div",{className:"ml-2"},"Max Mustermann"))))),r.a.createElement(N.a,null,r.a.createElement(C.a,null,r.a.createElement("div",{style:{margin:"0px"},className:"text-secondary"},"Email")),r.a.createElement(C.a,null,r.a.createElement("div",null,n.email))),r.a.createElement(N.a,null,r.a.createElement(C.a,null,r.a.createElement("div",{style:{margin:"0px"},className:"text-secondary"},"Verifikation")),r.a.createElement(C.a,null,r.a.createElement("div",null,e.verified(n)))),r.a.createElement(N.a,null,r.a.createElement(C.a,null,r.a.createElement("div",{style:{margin:"0px"},className:"text-secondary"},e.deactive_activated(n.is_enabled))),r.a.createElement(C.a,null,r.a.createElement("div",{className:"ml-4"},e.block_unblock(n.is_enabled))))))),e.setState({studentInfo:l})}var s,i},e.showInternships=function(){if(e.state.internships){for(var t=Object.keys(e.state.internships),a=[],n=0;n<t.length;n++){var l=t[n].split(",")[0].split("-")[0];a[l]||(a[l]=[]),a[l].push(e.state.internships[t[n]])}for(var s=[],i=Object.keys(a),o=function(e){var t=[];a[i[e]].map((function(a){var n=[];a.internships.map((function(e,t){0!==a.internships.internshipcounter?n.push(r.a.createElement(_.a,{key:t,style:{width:"200px"},className:"d-inline-block"},r.a.createElement(_.a.Header,null,e.companyname),r.a.createElement(_.a.Body,null,r.a.createElement("div",null,"Anfang: ",e.startdate),r.a.createElement("div",null,"Ende: ",e.enddate),r.a.createElement("div",null,"Bewertung: ",e.rating)))):n.push(r.a.createElement("h4",null,"Kein Praktikum"))})),t.push(r.a.createElement(_.a,{key:e+a.internships[0].classname},r.a.createElement(_.a.Header,null,r.a.createElement(He.a.Toggle,{as:"div",variant:"text",className:"w-100 h-100",eventKey:a.internships[0].classname},a.internships[0].classname)),r.a.createElement(He.a.Collapse,{eventKey:a.internships[0].classname},r.a.createElement(_.a.Body,null,n))))})),s.push(r.a.createElement("div",{key:e+"key",className:"w-100"},r.a.createElement(_.a,{className:"m-2"},r.a.createElement(_.a.Header,null,i[e]),r.a.createElement(_.a.Body,null,t))))},c=0;c<i.length;c++)o(c);return s}},e.getStudent=function(t){var n=a(10),l=localStorage.getItem("url");l+="?action=getStudentById";var r=new URLSearchParams;r.append("id",t),n({method:"post",url:l,data:r}).then((function(t){e.setState({data:t.data}),e.showStudent()}))},e.getInternships=function(t){var n=a(10),l=localStorage.getItem("url");l+="?action=getInternshipByStudent";var r=new URLSearchParams;r.append("id",t);var s=Object(Ue.a)(e);n({method:"post",url:l,data:r}).then((function(e){s.setState({internships:e.data})}))},e.verified=function(e){return"1"===e.is_verified?"Verifiziert":"Nicht verifiziert"},e.block_unblock=function(t){return 1!==t?r.a.createElement(De.a,{onClick:e.block}):r.a.createElement(xe.a,{onClick:e.block})},e.block=function(){var t=a(10),n=localStorage.getItem("url");n+="?action=invertEnbaledStudent";var l=new URLSearchParams;l.append("id",e.state.data.id),t({method:"post",url:n,data:l}).then((function(t){e.setState({data:t.data}),e.showStudent()}))},e.deactive_activated=function(e){return 1===e?"Deaktivieren":"Aktivieren"},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){0!==this.props.match.params.class_id&&(this.getStudent(this.props.match.params.id),this.setState({class_id:this.props.match.params.class_id})),this.getInternships(this.props.match.params.id)}},{key:"render",value:function(){return r.a.createElement("div",{className:"adminViewContent bg-light"},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/Administration"},"Administration"),this.checkClassID(this.state.class_id),r.a.createElement(pe.a,{href:"/loggedin/Administration",active:"active"},"StudentInformation")),r.a.createElement("h1",null,"Hier finden Sie alle Infos zu diesem Sch\xfcler"),this.state.studentInfo,r.a.createElement(_.a,null,r.a.createElement(_.a.Header,null,r.a.createElement("div",null,"Praktikas")),r.a.createElement(He.a,{defaultActiveKey:"0"},this.showInternships())))}}]),n}(l.Component),Ke=a(718),Ge=a(717),qe=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={redirect:"",redirectToLink:!1,class_id:0,generateToken:"",errorIsOpen:!1,selectedOptionRole:null,isAdministration:!1,newRole:"",roles:[],newRoleDescription:"",errorRoleName:!1,errorDescription:!1,dialogIsOpen:!1},e.getAllRoles=function(){var t=localStorage.getItem("url");t+="?action=getAllRoles",a(10)({method:"post",url:t}).then((function(t){var a=t.data.map((function(e){return{value:e.id,label:e.name}}));e.setState({roles:a})}))},e.handleChangeRoles=function(t){e.setState({selectedOptionRole:t})},e.handleisAdministration=function(t){e.setState({isAdministration:t.target.checked})},e.handleDialogClose=function(){e.setState({dialogIsOpen:!1})},e.handleDialogSave=function(t){if(t.preventDefault(),console.log("hexy"),e.validateFormNewRole()){e.setState({dialogIsOpen:!1});var a=e.state.roles,n={value:e.state.newRole,label:e.state.newRole};a.push({value:e.state.newRole,label:e.state.newRole}),e.setState({selectedOptionRole:n,specializations:a})}},e.handleDialogOpen=function(){e.setState({dialogIsOpen:!0})},e.handleNewRole=function(t){e.setState({newRole:t.target.value})},e.handleNewRoleDescription=function(t){e.setState({newRoleDescription:t.target.value})},e.generateToken=function(){var t=a(10),n=localStorage.getItem("url");t({method:"post",url:n+="?action=getCreatedToken"}).then((function(t){e.setState({generateToken:t.data})}))},e.validateFormNewRole=function(){var t=e.state.newRole,a=e.state.newRoleDescription,n=!1,l=!1;if(t||a)if(t){if(a)return n=!1,l=!1,e.setState({errorDescription:!1,errorRoleName:!1}),!0;l=!0}else n=!0;else n=!0,l=!0;return n&&l?(e.setState({errorDescription:!0,errorRoleName:!0}),!1):n?(e.setState({errorRoleName:!0,errorDescription:!1}),!1):l?(e.setState({errorDescription:!0,errorRoleName:!1}),!1):void 0},e.validateForm=function(){var t=e.state.firstname,a=e.state.email,n=e.state.surname,l=e.state.selectedOptionRole;return!!(t&&a&&n&&l)||(e.setState({errorIsOpen:!0}),!1)},e.toAdministration=function(){e.setState({redirect:"/loggedin/Administration",redirectToLink:!0})},e.onChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.handleClose=function(){e.setState({errorIsOpen:!1})},e.handleSubmit=function(t){if(t.preventDefault(),e.validateForm()){var n=localStorage.getItem("url"),l=new URLSearchParams;l.append("email",e.state.email),l.append("firstname",e.state.firstname),l.append("surname",e.state.surname),l.append("password",e.state.generateToken),l.append("phonenumber",e.state.phonenumber),l.append("role",e.state.selectedOptionRole.value),l.append("role_description",e.state.newRoleDescription),l.append("isAdministration",e.state.isAdministration),a(10)({method:"post",url:n+="?action=addSchoolperson",data:l}).then((function(t){console.log(t.data),e.toAdministration()}))}console.log(e.state)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getAllRoles(),this.generateToken()}},{key:"render",value:function(){var e=this;return!1!==this.state.redirectToLink?r.a.createElement(p.a,{to:this.state.redirect}):r.a.createElement("div",{className:"adminViewContent bg-light"},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/Administration"},"Administration"),r.a.createElement(pe.a,{href:"/loggedin/Administration/newCompany",active:!0},"Klassenlehrer/Lehrer erstellen")),r.a.createElement(C.a,null,r.a.createElement(N.a,{className:"m-5"},r.a.createElement("h1",null,"Klassenlehrer/Lehrer erstellen"))),r.a.createElement(I.a,{open:this.state.errorIsOpen,autoHideDuration:1e4,onClose:function(){e.setState({errorIsOpen:!1})}},r.a.createElement(D.a,{severity:"error",onClose:this.handleClose},"Bitte kontrollieren sie ob alle Felder ausgef\xfcllt sind!")),r.a.createElement(z.a,{open:this.state.dialogIsOpen,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Rolle"),r.a.createElement(M.a,null,r.a.createElement(P.a,null,"Geben sie in den untenstehenden Textfelder die neue Rolle ein!"),r.a.createElement(T.a,{id:"newRole",onSubmit:this.handleDialogSave},r.a.createElement(F.a,{autoFocus:!0,error:this.state.errorRoleName,margin:"dense",id:"role",label:"Role",type:"text",fullWidth:!0,onChange:this.handleNewRole}),r.a.createElement(F.a,{error:this.state.errorDescription,margin:"dense",id:"role",label:"Beschreibung der Role",type:"text",fullWidth:!0,onChange:this.handleNewRoleDescription}))),r.a.createElement(B.a,null,r.a.createElement(w.a,{onClick:this.handleDialogClose,color:"primary"},"Abbrechen"),r.a.createElement(w.a,{type:"submit",form:"newRole",color:"primary"},"Speichern"))),r.a.createElement(T.a,{onSubmit:this.handleSubmit},r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(T.a.Group,{controlId:"formFirstname",className:"mt-3 w-50"},r.a.createElement(T.a.Label,null,"Vorname"),r.a.createElement(T.a.Control,{type:"text",name:"firstname",onChange:this.onChange,required:!0}))),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(T.a.Group,{controlId:"formSurname",className:"w-50"},r.a.createElement(T.a.Label,null,"Nachname"),r.a.createElement(T.a.Control,{type:"text",name:"surname",onChange:this.onChange,required:!0}))),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(T.a.Group,{controlId:"formEmail",className:"w-50"},r.a.createElement(T.a.Label,null,"Email"),r.a.createElement(T.a.Control,{type:"email",name:"email",onChange:this.onChange,required:!0}))),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(T.a.Group,{controlId:"formPhonenumber",className:"w-50"},r.a.createElement(T.a.Label,null,"Telefonnummer"),r.a.createElement(T.a.Control,{type:"text",name:"phonenumber",onChange:this.onChange}))),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement("div",{className:"w-50"},r.a.createElement(T.a.Label,null,"Rolle"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"w-100 mr-2"},r.a.createElement(j.a,{options:this.state.roles,value:this.state.selectedOptionRole,onChange:this.handleChangeRoles,placeholder:"W\xe4hlen sie die Role aus!"})),r.a.createElement("div",{className:"ml-2 w-25"},r.a.createElement(w.a,{className:"btn btn-primary",onClick:function(){return e.handleDialogOpen()}},"Neue Rolle")),r.a.createElement("div",{className:"ml-2 w-25"},r.a.createElement(Ge.a,{value:"isAdministration",control:r.a.createElement(Ke.a,{color:"primary",checked:this.state.isAdministration,onChange:this.handleisAdministration}),label:"Administration",labelPlacement:"start",required:!0}))))),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(T.a.Group,{controlId:"formToken",className:"w-50"},r.a.createElement(T.a.Label,null,"Passwort"),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"w-75 mr-2"},r.a.createElement(T.a.Control,{type:"text",name:"password",disabled:!0,required:!0,defaultValue:this.state.generateToken})),r.a.createElement("div",{className:"ml-2 w-25"},r.a.createElement(w.a,{className:"btn btn-primary",onClick:function(){return e.generateToken()}},"Token generieren"))))),r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(w.a,{className:"m-2 w-25",variant:"success",type:"submit"},"Erstellen"))))}}]),n}(l.Component),Je=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={redirect:"",redirectToLink:!1,class_id:0,allSchoolpersonsData:null},e.getKeyFromSelected=function(t){"-1"===t?e.getAllStudents():e.getStudentByKey(t)},e.getStudentByKey=function(t){var n=localStorage.getItem("url");n+="?action=getStudentbySpecializations";var l=new URLSearchParams;l.append("id",t),a(10)({method:"post",url:n,data:l}).then((function(t){e.setState({allStudentsData:t.data})}))},e.getAllSpecialization=function(){var t=localStorage.getItem("url");t+="?action=getAllSpecializations",a(10)({method:"post",url:t}).then((function(t){t.data.push({id:"-1",description:"Alle"}),e.setState({specializations:t.data})}))},e.getAllStudents=function(){var t=localStorage.getItem("url");t+="?action=getAllStudents",a(10)({method:"post",url:t}).then((function(t){console.log(t.data),e.setState({allStudentsData:t.data})}))},e.openStudentInfo=function(t){e.setState({redirect:"./StudentInformation/"+t,redirectToLink:!0})},e.displayStudents=function(){if(null!=e.state.allStudentsData){var t=function(e){var t=Number(e).toString(16);return t.length<2&&(t="0"+t),t},a=function(){var e=[];return e.push(t(255)+""+t(203)+t(0)),e.push(t(0)+""+t(48)+t(80)),e[Math.floor(Math.random()*e.length)]};if(!e.state.allStudentsData)return r.a.createElement("div",null);var n=[];return e.state.allStudentsData.map((function(t){var l,s;n.push(r.a.createElement(_.a,{bg:"light",className:"m-3 w-25 text-center",onClick:function(){return e.openStudentInfo(t.id)}},r.a.createElement(_.a.Header,null,r.a.createElement("div",{className:"d-flex align-items-baseline"},r.a.createElement(X.a,{style:{backgroundColor:"#"+a()}},(l=t.firstname,s=t.surname,l.substring(0,1).toUpperCase()+s.substring(0,1).toUpperCase())),r.a.createElement("div",{className:"ml-2"},t.firstname+" "+t.surname))),r.a.createElement(_.a.Body,null,r.a.createElement("h6",null,t.email))))})),n}},e.displayData=function(){if(null!=e.state.specializations)return e.state.specializations.map((function(e){return r.a.createElement(ve.a,{eventKey:e.id},e.description)}))},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getAllStudents(),this.getAllSpecialization()}},{key:"render",value:function(){var e=this;return!1!==this.state.redirectToLink?r.a.createElement(p.a,{to:this.state.redirect}):r.a.createElement("div",{className:"adminViewContent bg-light"},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/"},"Administration")),r.a.createElement(C.a,null,r.a.createElement(N.a,{className:"m-5"},r.a.createElement("h1",null,"Alle Sch\xfcler"))),r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement("label",null,"Filtern Nach: "),r.a.createElement(ye.a,null,[be.a].map((function(t,a){return r.a.createElement(t,{className:"warning",title:"Fachrichtung",id:"dropdown-button-drop-".concat(a),key:a,onSelect:e.getKeyFromSelected},e.displayData())}))))),r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement("div",{className:"p-1"},r.a.createElement("div",{id:"students",className:"noDividerList"},this.displayStudents())))))}}]),n}(l.Component),Ye=a(719),Ze=a(720),Qe=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={redirect:"",redirectToLink:!1,class_id:0,key:"home"},e.onChangeCompany=function(t){var a=e.state.companyData;a[[t.target.name]]=t.target.value,e.setState({companyData:a})},e.onChangeTutor=function(t){var a=e.state.tutorData;a[[t.target.name]]=t.target.value,e.setState({tutorData:a})},e.handleSubmit=function(t){t.preventDefault();var n=localStorage.getItem("url");n+="?action=updateTCInfo";var l=e.state.companyData,r=e.state.tutorData,s=new URLSearchParams;s.append("tutor_id",r.id),s.append("company_id",l.id),s.append("firstname",r.firstname),s.append("surname",r.surname),s.append("t_email",r.email),s.append("address",l.address),s.append("c_email",l.email),s.append("companyname",l.name),s.append("phonenumber",l.phonenumber),a(10)({method:"post",url:n,data:s}).then((function(e){})),e.forceUpdate(),e.handleSelect("home")},e.handleSelect=function(t){e.setState({key:t})},e.displayCompanyInfo=function(){if(void 0!==e.state.companyData&&void 0!==e.state.tutorData){var t=e.state.companyData,a=e.state.tutorData;return r.a.createElement("div",{className:"well"},r.a.createElement(Ye.a,{activeKey:e.state.key,onSelect:e.handleSelect},r.a.createElement(Ze.a,{eventKey:"home",title:"Home"},r.a.createElement(T.a,{id:"tab"},r.a.createElement(T.a.Group,{controlId:"Username",className:"mt-3"},r.a.createElement(T.a.Label,null,"Namen des Unternehmens"),r.a.createElement(T.a.Control,{type:"text",value:t.name,disabled:!0})),r.a.createElement(T.a.Group,{controlId:"Firstname"},r.a.createElement(T.a.Label,null,"Vorname"),r.a.createElement(T.a.Control,{type:"text",value:a.firstname,disabled:!0})),r.a.createElement(T.a.Group,{controlId:"Surname"},r.a.createElement(T.a.Label,null,"Nachname"),r.a.createElement(T.a.Control,{type:"text",value:a.surname,disabled:!0})),r.a.createElement(T.a.Group,{controlId:"t_email"},r.a.createElement(T.a.Label,null,"Email des Tutors"),r.a.createElement(T.a.Control,{type:"text",value:a.email,disabled:!0})),r.a.createElement(T.a.Group,{controlId:"c_email"},r.a.createElement(T.a.Label,null,"Email des Unternehmens"),r.a.createElement(T.a.Control,{type:"email",value:t.email,disabled:!0})),r.a.createElement(T.a.Group,{controlId:"phonenumber"},r.a.createElement(T.a.Label,null,"Telefonnummer"),r.a.createElement(T.a.Control,{type:"tel",disabled:!0,value:t.phonenumber})),r.a.createElement(T.a.Group,{controlId:"address"},r.a.createElement(T.a.Label,null,"Adresse"),r.a.createElement(T.a.Control,{type:"text",disabled:!0,value:t.address})))),r.a.createElement(Ze.a,{eventKey:"edit",title:"Edit"},r.a.createElement(T.a,{id:"tab",onSubmit:e.handleSubmit,ref:"form"},r.a.createElement(T.a.Group,{controlId:"formUsername",className:"mt-3"},r.a.createElement(T.a.Label,null,"Namen des Unternehmens"),r.a.createElement(T.a.Control,{type:"text",defaultValue:t.name,name:"name",onChange:e.onChangeCompany,required:!0})),r.a.createElement(T.a.Group,{controlId:"formFirstname"},r.a.createElement(T.a.Label,null,"Vorname"),r.a.createElement(T.a.Control,{type:"text",defaultValue:a.firstname,name:"firstname",onChange:e.onChangeTutor,required:!0})),r.a.createElement(T.a.Group,{controlId:"formSurname"},r.a.createElement(T.a.Label,null,"Nachname"),r.a.createElement(T.a.Control,{type:"text",defaultValue:a.surname,name:"surname",onChange:e.onChangeTutor,required:!0})),r.a.createElement(T.a.Group,{controlId:"formSurname"},r.a.createElement(T.a.Label,null,"Email des Tutors"),r.a.createElement(T.a.Control,{type:"text",defaultValue:a.email,name:"email",onChange:e.onChangeTutor,required:!0})),r.a.createElement(T.a.Group,{controlId:"formEmail"},r.a.createElement(T.a.Label,null,"Email des Unternehmens"),r.a.createElement(T.a.Control,{type:"email",defaultValue:t.email,name:"email",onChange:e.onChangeCompany,required:!0})),r.a.createElement(T.a.Group,{controlId:"formPhonenumber"},r.a.createElement(T.a.Label,null,"Telefonnummer"),r.a.createElement(T.a.Control,{type:"tel",defaultValue:t.phonenumber,name:"phonenumber",onChange:e.onChangeCompany,pattern:"[- s./0-9]{9,12}",title:"z.B 0471 123456 oder 333 487 9809",required:!0})),r.a.createElement(T.a.Group,{controlId:"formAddress"},r.a.createElement(T.a.Label,null,"Adresse"),r.a.createElement(T.a.Control,{type:"text",defaultValue:t.address,name:"address",onChange:e.onChangeCompany,required:!0})),r.a.createElement(w.a,{className:"m-2",variant:"success",type:"submit"},"Abschicken")))))}},e.getCompanyInformation=function(){var t=localStorage.getItem("url");t+="?action=getOwnCompany",a(10)({method:"post",url:t}).then((function(t){e.setState({companyData:t.data})}))},e.getTutorCompanyInfo=function(){if(null!=localStorage.getItem("user")){var t=localStorage.getItem("url");t+="?action=getEncryptedTokenData",a(10)({method:"post",url:t}).then((function(t){e.setState({tutorData:t.data})}))}},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getTutorCompanyInfo(),this.getCompanyInformation()}},{key:"render",value:function(){return r.a.createElement("div",{className:"classViewContent "},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/Company"},"Unternehmen"),r.a.createElement(pe.a,{href:"loggedin/Company/CompanyProfile",active:!0},"Profil")),this.displayCompanyInfo())}}]),n}(l.Component),Xe=a(733),$e=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={redirect:"",currentRatingIndex:1,criteria:[{label:"ungen\xfcgend",rating:"1"},{label:"gen\xfcgend",rating:"2"},{label:"befriedigend",rating:"3"},{label:"gut",rating:"4"},{label:"sehr gut",rating:"5"}],redirectToLink:!1,ratingcriteria:[],internshipId:e.props.match.params.id,dialogIsOpen:!1},e.changeRating=function(t){e.setState({currentRatingIndex:e.state.currentRatingIndex+1});var a=t.target.name,n=t.target.value,l=e.state.ratingcriteria;l[a-1].rating=n,e.setState({ratingcriteria:l})},e.getInternshipData=function(){if(e.state.internshipId){var t=localStorage.getItem("url"),n=JSON.parse(localStorage.getItem("user"));t+="?action=getEvaluationPointsByInternship";var l=a(10),r=new URLSearchParams;r.append("id",e.state.internshipId),r.append("tutor_id",n.id),l({method:"post",url:t,data:r}).then((function(t){"NotTutorForInternship"!==t.data&&e.setState({ratingcriteria:t.data})}))}},e.getRatingcriteria=function(){if(null!==e.state.ratingcriteria){var t=[],a=[];return e.state.criteria.map((function(e,t){a.push(r.a.createElement(Xe.a.Button,{className:"m-2",key:t,value:e.rating,name:t},e.label))})),t.push(e.state.ratingcriteria.map((function(t,n){var l=e.state.ratingcriteria[n].rating;return r.a.createElement("div",{key:n,hidden:n!=e.state.currentRatingIndex},r.a.createElement("h1",{className:"mt-2",id:t.name}," ",t.name),r.a.createElement(Xe.a.Group,{name:t.id,onChange:e.changeRating,defaultValue:""+l},a))}))),e.isAllowed(t),t}},e.getEvaluationofInternship=function(){var t=e.state.ratingcriteria,n=localStorage.getItem("url");n+="?action=insertInternshipRating&internship_id="+e.state.internshipId;var l=a(10),r=new URLSearchParams;console.log(t);for(var s=0;s<t.length;s++){var i=[];i.push("id",t[s].id),i.push("name",t[s].name),i.push("description",t[s].description),i.push("rating",t[s].rating),r.append(s,JSON.stringify(i))}l({method:"post",url:n,data:r}).then((function(a){e.setState({companyData:a.data});var n=!0;!1===a.data&&(n=!1);for(var l=0;l<t.length&&!0===n;l++)"false"===a.data[l]&&(n=!1);!1===n?console.log("error",a.data):(console.log("worked",a.data),e.openInternshipData(e.state.internshipId))})),e.setState({dialogIsOpen:!1})},e.isAllowed=function(t){0!==e.state.ratingcriteria.length&&e.state.currentRatingIndex==e.state.ratingcriteria.length&&t.push(r.a.createElement("button",{className:"btn btn-primary w-25 mt-1",key:"button",onClick:e.handleClickOpen},"Bewertung abschicken"))},e.handleClickOpen=function(){e.setState({dialogIsOpen:!0})},e.handleClose=function(){e.setState({dialogIsOpen:!1})},e.prevStep=function(){e.setState({currentRatingIndex:e.state.currentRatingIndex-1})},e.nextStep=function(){e.setState({currentRatingIndex:e.state.currentRatingIndex+1})},e.openInternshipData=function(t){e.setState({redirectToLink:"/loggedin/company/InternshipInformation/"+t})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getInternshipData()}},{key:"render",value:function(){var e=this;return!1!==this.state.redirectToLink?r.a.createElement(p.a,{to:this.state.redirectToLink}):r.a.createElement("div",{className:"classViewContent bg-light"},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/company"},"Unternehmen"),r.a.createElement(pe.a,{onClick:function(){return e.openInternshipData(e.state.internshipId)}},"Praktikums Status"),r.a.createElement(pe.a,{href:"/loggedin/company/InternshipRating",active:!0},"Rating")),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Pe.a,{label:this.state.currentRatingIndex+"/"+this.state.ratingcriteria.length,now:this.state.currentRatingIndex/this.state.ratingcriteria.length*100})),r.a.createElement("div",{className:"w-50 m-auto text-center"},this.getRatingcriteria(),r.a.createElement("div",{className:"w-100 d-flex justify-content-between"},r.a.createElement(w.a,{onClick:function(){return e.prevStep()}},"Zur\xfcck"),r.a.createElement(w.a,{onClick:function(){return e.nextStep()}},"Weiter")))),r.a.createElement(z.a,{open:this.state.dialogIsOpen,onClose:this.handleClose},r.a.createElement(R.a,null,"Confirmation"),r.a.createElement(M.a,null,r.a.createElement(P.a,null,"Sind sie sicher die Bewertung abzuschicken?")),r.a.createElement(B.a,null,r.a.createElement(w.a,{autoFocus:!0,onClick:this.handleClose,className:"btn btn-primary"},"Abbrechen"),r.a.createElement(w.a,{onClick:this.getEvaluationofInternship,className:"btn btn-primary"},"Absenden"))))}}]),n}(l.Component),et=a(741),tt=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={redirect:"",redirectToLink:!1,class_id:0,internship:null,schooclass:null,student:null,schoolperson:null,tutorCompany:null},e.viewInternshipData=function(){return r.a.createElement("div",{className:"m-2 p-2"},r.a.createElement(_.a.Header,null,"Praktikumstutor: ",e.state.tutorCompany.surname+" "+e.state.tutorCompany.firstname),r.a.createElement(_.a.Body,null,r.a.createElement(et.a.Item,null,r.a.createElement(N.a,null,r.a.createElement(C.a,null," Sch\xfcler: ",e.state.student.surname+" "+e.state.student.firstname," "),r.a.createElement(C.a,null,"Klasse: ",e.state.schooclass.name," "))),r.a.createElement(et.a.Item,null,"Schultutor: ",e.state.schoolperson.surname+" "+e.state.schoolperson.firstname),r.a.createElement(et.a.Item,null,r.a.createElement(N.a,null,r.a.createElement(C.a,null," Von: ",e.state.internship.from),r.a.createElement(C.a,null," Bis: ",e.state.internship.to," "))),r.a.createElement(et.a.Item,null,r.a.createElement(Pe.a,{now:e.state.internship.state_id/10*100,label:e.state.internship.state_id/10*100+"%"}))))},e.canRate=function(){if(e.state.internship&&null===e.state.internship.rating&&"8"===e.state.internship.state_id&&e.state.internship.tutor_company_id===e.state.userData.id)return r.a.createElement("button",{className:"btn btn-primary m-3",onClick:function(){return e.openInternshipRating(e.state.internship.id)}},"Rating")},e.openInternshipRating=function(t){e.setState({redirectToLink:"./InternshipRating/"+t})},e.openInternshipWorkDays=function(t){e.setState({redirectToLink:"./InternshipWorkDays/"+t})},e.getInternshipById=function(t){var n=a(10),l=localStorage.getItem("url"),r=localStorage.getItem("user");r=JSON.parse(r),e.setState({userData:r});var s=new URLSearchParams;l+="?action=getInternshipInformationById",s.append("id",t),n({method:"post",url:l,data:s}).then((function(t){void 0===t.data.error?(console.log(t.data),t.data.internship&&t.data.schoolperson&&t.data.student&&t.data.schoolperson&&e.setState({internship:t.data.internship,schooclass:t.data.schooclass,student:t.data.student,schoolperson:t.data.schoolperson,tutorCompany:t.data.tutorCompany}),console.log(t.data),e.setState({loadedData:!0})):console.error("ERROR LOADING DATA")}))},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getInternshipById(this.props.match.params.id)}},{key:"render",value:function(){var e=this;return this.state.internship&&this.state.schooclass&&this.state.student&&this.state.schoolperson&&this.state.tutorCompany?!1!==this.state.redirectToLink?r.a.createElement(p.a,{to:this.state.redirectToLink}):r.a.createElement("div",{className:"classViewContent bg-light"},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/company/"},"Unternehmen"),r.a.createElement(pe.a,{href:"/loggedin/company/InternshipInformation",active:!0},"Praktikums Informationen")),r.a.createElement(C.a,null,r.a.createElement(N.a,{className:"m-5"},r.a.createElement("h4",{className:"unimportant"},"Praktikums Informationen von"),r.a.createElement("h1",null,this.state.student.firstname+" "+this.state.student.surname)),r.a.createElement(N.a,{className:"col-auto "},this.canRate(),r.a.createElement("button",{className:"btn btn-primary m-3",onClick:function(){return e.openInternshipWorkDays(e.state.internship.id)}},"WorkDays"))),r.a.createElement(C.a,null,r.a.createElement(N.a,null,this.viewInternshipData()))):r.a.createElement(r.a.Fragment,null)}}]),n}(l.Component),at=a(377),nt=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={show:!1,token:"",data:null,internshipData:null,submitted:!1,redirect:"",redirectToLink:!1,class_id:0},e.getCompanyName=function(){if(null!=e.state.companyData)return r.a.createElement("h1",null,e.state.companyData.name)},e.displayInternships=function(){if(null!=e.state.internshipData){e.state.internshipData;return Object.keys(e.state.internshipData).map((function(t){var a=t.split(",")[1],n=t.split(",")[0];e.state.internshipData[t].active;return r.a.createElement(_.a,{key:t,className:" w-25  m-4 p-2"},r.a.createElement("h1",null,r.a.createElement("div",{className:"d-flex bd-highlight mb-3 align-items-baseline"},r.a.createElement("div",{className:"p-2 bd-highlight"},r.a.createElement("h1",null,a)),r.a.createElement("div",{className:"p-2 bd-highlight text-secondary"},r.a.createElement("h3",null,n)))),e.state.internshipData[t].internships.map((function(t,a){return 0===t.length?null:t.tutor_company_id==e.state.userData.id?r.a.createElement("div",null,r.a.createElement(_.a,{className:" m-2 p-2",onClick:function(){return e.openInternshipStatus(t.internship_id)},key:a},r.a.createElement("div",null,t.studentFirstName+" "+t.studentSurname,function(e,t){if(null===e&&"10"===t)return r.a.createElement("span",{className:"badge badge-danger float-right"},"Rate Now")}(t.rating,t.state_id)))):void 0})))}))}},e.openInternshipStatus=function(t){e.setState({redirectToLink:"./InternshipInformation/"+t})},e.getCompanyInformation=function(){if(null!=localStorage.getItem("user")){var t=localStorage.getItem("url");t+="?action=getOwnCompany",a(10)({method:"post",url:t}).then((function(t){e.setState({companyData:t.data})}))}},e.getAllInternshipsbyCompany=function(){if(null!=localStorage.getItem("user")){var t=localStorage.getItem("url");t+="?action=getInternshipByCompany";var n=a(10),l=localStorage.getItem("user");l=JSON.parse(l),e.setState({userData:l});var r=new URLSearchParams;r.append("id",l.companyID),n({method:"post",url:t,data:r}).then((function(t){e.setState({internshipData:t.data})}))}},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getCompanyInformation(),this.getAllInternshipsbyCompany()}},{key:"render",value:function(){return 0!=this.state.redirectToLink?r.a.createElement(p.a,{to:this.state.redirectToLink}):r.a.createElement("div",{className:"classViewContent bg-light"},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/Company/",active:!0}," Unternehmen")),r.a.createElement(C.a,null,r.a.createElement(N.a,{className:"m-5"},"Willkommen ",this.getCompanyName()),r.a.createElement(N.a,{className:"col-auto m-5"},r.a.createElement("a",{className:"btn btn-primary",href:"./CompanyProfile/"},r.a.createElement(at.a,null)))),r.a.createElement("hr",null),r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement("span",null,"Klassen: "),r.a.createElement("div",{id:"classes",className:"d-flex flex-wrap justify-content-center"},this.displayInternships()))))}}]),n}(l.Component),lt=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={redirect:"",redirectToLink:!1,class_id:0,allCompaniesData:null,selecteditem:"Alle",selectedItemId:"-1",selectedSpecialization:"Alle",selectedSpecializationId:"-1",error:!1},e.getAllCompanies=function(){var t=localStorage.getItem("url");t+="?action=getAllCompanies",a(10)({method:"post",url:t}).then((function(t){e.setState({allCompaniesData:t.data})}))},e.getKeyFromSelected=function(t){if("-1"===t)e.getAllCompanies(),e.setState({selecteditem:e.state.districts[e.state.districts.length-1].name,selectedItemId:-1});else for(var a=0;a<e.state.districts.length;a++)t==e.state.districts[a].id&&(e.setState({selecteditem:e.state.districts[a].name,selectedItemId:e.state.districts[a].id}),e.getCompanyByKey(e.state.districts[a].id,e.state.selectedSpecializationId))},e.getKeyFromSelectedSpecialization=function(t){if("-1"===t)e.getAllCompanies(),e.setState({selectedSpecialization:e.state.specializations[e.state.specializations.length-1].description,selectedSpecializationId:-1});else for(var a=0;a<e.state.specializations.length;a++)t==e.state.specializations[a].id&&(e.setState({selectedSpecialization:e.state.specializations[a].description,selectedSpecializationId:e.state.specializations[a].id}),e.getCompanyByKey(e.state.selectedItemId,e.state.specializations[a].id))},e.getCompanyByKey=function(t,n){var l=localStorage.getItem("url");l+="?action=getCompanyByDistrictAndSpecialization";var r=new URLSearchParams;-1!=t&&(console.log("District: ",t),r.append("districtId",t)),-1!=n&&(console.log("specializations_id: ",n),r.append("specializations_id",n)),a(10)({method:"post",url:l,data:r}).then((function(t){t.data.error?e.setState({error:!0}):e.setState({allCompaniesData:t.data})}))},e.getAllDistricts=function(){var t=localStorage.getItem("url");t+="?action=getAllDistricts",a(10)({method:"post",url:t}).then((function(t){console.log(t.data),t.data.push({id:"-1",name:"Alle"}),e.setState({districts:t.data})}))},e.getAllSpecializations=function(){var t=localStorage.getItem("url");t+="?action=getAllSpecializations",a(10)({method:"post",url:t}).then((function(t){console.log(t.data),t.data.push({id:"-1",description:"Alle"}),e.setState({specializations:t.data})}))},e.displayCompanies=function(){if(null!=e.state.allCompaniesData&&1!=e.state.error){var t=function(e){var t=Number(e).toString(16);return t.length<2&&(t="0"+t),t},a=function(){var e=[];return e.push(t(255)+""+t(203)+t(0)),e.push(t(0)+""+t(48)+t(80)),e[Math.floor(Math.random()*e.length)]};if(!e.state.allCompaniesData)return r.a.createElement("div",null);var n=[];return e.state.allCompaniesData.map((function(t){var l;n.push(r.a.createElement(_.a,{bg:"light",key:t.id,className:"m-3 w-25 text-center",onClick:function(){return e.openCompanyInfo(t.id)}},r.a.createElement(_.a.Header,null,r.a.createElement("div",{className:"d-flex align-items-baseline"},r.a.createElement(X.a,{style:{backgroundColor:"#"+a()}},null!=(l=t.name)?l.substring(0,1).toUpperCase():"M"),r.a.createElement("div",{className:"ml-2"},t.name))),r.a.createElement(_.a.Body,null,r.a.createElement("h6",null,t.email))))})),n}},e.openCompanyInfo=function(t){e.setState({redirect:"./CompanyInformation/"+t,redirectToLink:!0})},e.displayData=function(){if(e.state.districts)return e.state.districts.map((function(e){return r.a.createElement(ve.a,{key:e.id,eventKey:e.id},e.name)}))},e.displaySpecialization=function(){if(e.state.specializations)return e.state.specializations.map((function(e){return r.a.createElement(ve.a,{key:e.id,eventKey:e.id},e.description)}))},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getAllCompanies(),this.getAllDistricts(),this.getAllSpecializations()}},{key:"render",value:function(){var e=this;return!1!==this.state.redirectToLink?r.a.createElement(p.a,{to:this.state.redirect}):r.a.createElement("div",{className:"w-100 adminViewContent"},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/Administration",active:!0},"Administration")),r.a.createElement(C.a,null,r.a.createElement(N.a,{className:"m-5"},r.a.createElement("h1",null,"Alle Unternehmen"))),r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement("label",null,"Filtern Nach"),r.a.createElement(ye.a,null,[be.a].map((function(t,a){return r.a.createElement(t,{className:"warning",title:"Bezirk: "+e.state.selecteditem,id:"dropdown-button-drop-".concat(a+"district"),key:a+"district",onSelect:e.getKeyFromSelected},e.displayData())}))),r.a.createElement(ye.a,null,[be.a].map((function(t,a){return r.a.createElement(t,{className:"warning",title:"Fachrichtung: "+e.state.selectedSpecialization,id:"dropdown-button-drop-".concat(a+"spec"),key:a+"spec",onSelect:e.getKeyFromSelectedSpecialization},e.displaySpecialization())}))))),r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement("div",{className:"p-1"},r.a.createElement("div",{className:"noDividerList"},this.displayCompanies())))))}}]),n}(l.Component),rt=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={redirect:"",redirectToLink:!1,class_id:0,allSchoolpersonsData:null,selecteditem:"Alle"},e.getKeyFromSelected=function(t){if(console.log(e.state),"-1"===t)e.getAllSchoolperson(),e.setState({selecteditem:e.state.specializations[e.state.specializations.length-1].description});else{e.getSchoolpersonsByKey(t);for(var a=0;a<e.state.specializations.length;a++)t==e.state.specializations[a].id&&e.setState({selecteditem:e.state.specializations[a].description})}},e.getSchoolpersonsByKey=function(t){var n=localStorage.getItem("url");n+="?action=getSchoolpersonBySpecializations";var l=new URLSearchParams;l.append("id",t),a(10)({method:"post",url:n,data:l}).then((function(t){e.setState({allSchoolpersonsData:t.data})}))},e.getAllSpecialization=function(){var t=localStorage.getItem("url");t+="?action=getAllSpecializations",a(10)({method:"post",url:t}).then((function(t){t.data.push({id:"-1",description:"Alle"}),e.setState({specializations:t.data})}))},e.getAllSchoolperson=function(){var t=localStorage.getItem("url");t+="?action=getAllSchoolpersons",a(10)({method:"post",url:t}).then((function(t){console.log(t.data),e.setState({allSchoolpersonsData:t.data})}))},e.displaySchoolpersons=function(){if(null!=e.state.allSchoolpersonsData){var t=function(e){var t=Number(e).toString(16);return t.length<2&&(t="0"+t),t},a=function(){var e=[];return e.push(t(255)+""+t(203)+t(0)),e.push(t(0)+""+t(48)+t(80)),e[Math.floor(Math.random()*e.length)]};if(!e.state.allSchoolpersonsData)return r.a.createElement("div",null);var n=[];return e.state.allSchoolpersonsData.map((function(e){var t,l;console.log(e),n.push(r.a.createElement(_.a,{bg:"light",className:"m-3 w-25 text-center"},r.a.createElement(_.a.Header,null,r.a.createElement("div",{className:"d-flex align-items-baseline"},r.a.createElement(X.a,{style:{backgroundColor:"#"+a()}},(t=e.firstname,l=e.surname,t.substring(0,1).toUpperCase()+l.substring(0,1).toUpperCase())),r.a.createElement("div",{className:"ml-2"},e.firstname+" "+e.surname))),r.a.createElement(_.a.Body,null,r.a.createElement("h6",null,e.email))))})),n}},e.insertDataIntoDropdown=function(){if(null!=e.state.specializations)return e.state.specializations.map((function(e){return r.a.createElement(ve.a,{eventKey:e.id},e.description)}))},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getAllSchoolperson(),this.getAllSpecialization()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"adminViewContent bg-light"},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/"},"Administration")),r.a.createElement(C.a,null,r.a.createElement(N.a,{className:"m-5"},r.a.createElement("h1",null,"Alle Lehrer / Klassenlehrer"))),r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement("label",null,"Filtern nach: "),r.a.createElement(ye.a,null,[be.a].map((function(t,a){return r.a.createElement(t,{className:"warning",title:"Fachrichtung: "+e.state.selecteditem,id:"dropdown-button-drop-".concat(a),key:a,onSelect:e.getKeyFromSelected},e.insertDataIntoDropdown())}))))),r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement("div",{className:"p-1"},r.a.createElement("div",{id:"companies",className:"noDividerList"},this.displaySchoolpersons())))))}}]),n}(l.Component),st=a(727),it=a(737),ot=a(375),ct=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_.a,null,r.a.createElement(_.a.Img,null),r.a.createElement(_.a.Header,null,r.a.createElement("h4",null,"Impressum")),r.a.createElement(_.a.Body,null,r.a.createElement("h5",{className:"card-title"},"Product Owner:"),r.a.createElement("p",{className:"card-text"},"Alex Larentis"),r.a.createElement("h5",{className:"card-title"},"Logo-Design:"),r.a.createElement("p",{className:"card-text"},"Gabriel Puff"),r.a.createElement("h5",{className:"card-title"},"Frontend:"),r.a.createElement("p",{className:"card-text"},"Christoph Weiss"),r.a.createElement("p",{className:"card-text"},"Maximilian Mauroner"),r.a.createElement("p",{className:"card-text"},r.a.createElement("ins",null,"Markus Mayr")),r.a.createElement("h5",{className:"card-title"},"Backend:"),r.a.createElement("p",{className:"card-text"},"Maximilian Mauroner"),r.a.createElement("p",{className:"card-text"},"Kai Schweigkofler"),r.a.createElement("p",{className:"card-text"},"Christian Tutzer"),r.a.createElement("h5",{className:"card-title"},"Bug-Finder:"),r.a.createElement("p",{className:"card-text"},r.a.createElement("ins",null,"Simon R\xf6ggla")),r.a.createElement("p",{className:"card-text"},r.a.createElement("ins",null,"Simon M\xfcller")))))}}]),a}(l.Component),mt=a(378),ut=a(379),dt=a.n(ut),pt=(a(591),a(401)),ht=(a(340),a(265)),gt=a.n(ht),ft=a(264),Et=a.n(ft),vt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={redirect:"",redirectToLink:!1,class_id:0,media_title:r.a.createElement("h3",{className:"m-5 text-white text-center"},"Verwaltung"),small:!1},e.checkifMobile=function(){var t;window.matchMedia("(min-width: 1000px)").matches?(t=r.a.createElement("h3",{className:"m-4 mt-5 text-white text-center"},r.a.createElement(Et.a,null),"Verwaltung"),e.setState({media_title:t})):(t=r.a.createElement("h3",{className:"m-2 mt-5 text-white  text-center"},r.a.createElement(Et.a,null)),e.setState({media_title:t}))},e.closeNav=function(t){e.setState({small:t})},e.closeAll=function(){var e,t=Object(pt.a)(document.getElementsByTagName("details"));try{for(t.s();!(e=t.n()).done;){e.value.removeAttribute("open")}}catch(a){t.e(a)}finally{t.f()}},e.clickSingle=function(t){"SUMMARY"===t.target.tagName&&(e.closeAll(),console.log(t.open),t.open=!t.open)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.checkifMobile(),window.addEventListener("resize",this.checkifMobile)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkifMobile)}},{key:"render",value:function(){var e=this;return this.state.small?r.a.createElement("div",{className:"bg-dark text-white p-4 rounded"},r.a.createElement(gt.a,{onClick:function(){e.closeNav(!e.state.small)}})):r.a.createElement("div",{className:"rounded w-100 h-100 p-4 float-left bg-dark text-light"},r.a.createElement("div",{className:"float-left bg-subNav"},r.a.createElement(gt.a,{onClick:function(){e.closeNav(!e.state.small)}})),r.a.createElement("div",null,this.state.media_title,r.a.createElement("div",{className:"mt-5 menuPointsSidebarWrapper"},r.a.createElement("details",{className:"detailsDark",onClick:this.clickSingle,open:!0},r.a.createElement("summary",{className:" w-100 text-white text-left "},"Suchen"),r.a.createElement("div",null,r.a.createElement(h.b,{className:"text-left",to:"/loggedin/Administration/Search"},"Alles Durchsuchen"))),r.a.createElement("details",{className:"detailsDark",onClick:this.clickSingle},r.a.createElement("summary",{className:"w-100 text-white text-left "},"Klassen"),r.a.createElement("div",null,r.a.createElement(h.b,{className:"text-left",to:"/loggedin/Administration/"}," Alle Klassen")),r.a.createElement("div",null,r.a.createElement(h.b,{className:"text-left",to:"/loggedin/Administration/NewClass"}," Klasse hinzuf\xfcgen"))),r.a.createElement("details",{className:"detailsDark",onClick:this.clickSingle},r.a.createElement("summary",{className:"w-100 text-white text-left"},"Unternehmen"),r.a.createElement("div",null,r.a.createElement(h.b,{className:"text-left",to:"/loggedin/Administration/AllCompanies"}," Alle Unternehmen")),r.a.createElement("div",null,r.a.createElement(h.b,{className:"text-left",to:"/loggedin/Administration/NewCompany"}," Unternehmen hinzuf\xfcgen"))),r.a.createElement("details",{className:"detailsDark bg-subNav",onClick:this.clickSingle},r.a.createElement("summary",{className:"w-100 text-white text-left"},"Vertr\xe4ge"),r.a.createElement("div",null,r.a.createElement(h.b,{className:"text-left",to:"/loggedin/Administration/ContractsView"}," Alle Vertr\xe4ge")),r.a.createElement("div",null,r.a.createElement(h.b,{className:"text-left",to:"/loggedin/Administration/notCheckedContracts"}," Nicht kontrollierte Vertr\xe4ge"))),r.a.createElement("details",{className:"detailsDark bg-subNav",onClick:this.clickSingle},r.a.createElement("summary",{className:"w-100 text-white text-left "},"Sch\xfcler"),r.a.createElement("div",null,r.a.createElement(h.b,{className:"text-left",to:"/loggedin/Administration/StudentOverview"}," Alle Sch\xfcler"))),r.a.createElement("details",{className:"detailsDark ",onClick:this.clickSingle},r.a.createElement("summary",{className:"w-100 text-white bg-subNav text-left"},"Lehrer"),r.a.createElement("div",null,r.a.createElement(h.b,{className:"text-left",to:"/loggedin/Administration/AllSchoolpersons"},"Alle Lehrer/Klassenlehrer")),r.a.createElement("div",null,r.a.createElement(h.b,{className:"text-left",to:"/loggedin/Administration/NewSchoolperson"},"Lehrer hinzuf\xfcgen"))),r.a.createElement("details",{className:"detailsDark ",onClick:this.clickSingle},r.a.createElement("summary",{className:"w-100 text-white bg-subNav text-left"},"Email"),r.a.createElement("div",null,r.a.createElement(h.b,{className:"text-left",to:"/loggedin/Administration/RatingMail"},"Emails senden"))),r.a.createElement("details",{className:"detailsDark ",onClick:this.clickSingle},r.a.createElement("summary",{className:"w-100 text-white bg-subNav text-left"},"Verwaltung"),r.a.createElement("div",null,r.a.createElement(h.b,{className:"text-left",to:"/loggedin/Administration/AllRoles"},"Rollen")),r.a.createElement("div",null,r.a.createElement(h.b,{className:"text-left",to:"/loggedin/Administration/AllSpecializations"},"Fachrichtungen"))))))}}]),a}(l.Component),yt=a(721),bt=a(738),St=a(381),Ct=a.n(St),Nt=a(382),kt=a.n(Nt),wt=a(743),It=a(384),Dt=a.n(It),Ot=a(383),xt=a.n(Ot),At=a(385),jt=a.n(At),_t=(a(592),a(380)),Tt=a.n(_t),Lt=0,zt=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={},e}return Object(c.a)(a,[{key:"render",value:function(){if(this.props.url&&this.props.originalPath){var e;if(n!==this.props.url&&(Lt++,n=this.props.url,this.props.originalPath)){var t=(this.props.originalPath+"").split(".");"doc"===(e=t[t.length-1])&&(e="docx")}return r.a.createElement("div",null,r.a.createElement(Tt.a,{key:Lt,filePath:this.props.url,fileType:e}))}return r.a.createElement("div",null,"Keine datei Ausgew\xe4hlt")}}]),a}(l.Component),Rt=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={data:{},dataLoaded:!1,currentContractPath:null,unmountFileViewer:!1,showValidationModal:!1,enableValidation:!1,fileOpen:!1,fileUrl:null,internshipId:null,reasonToDeny:[],contract_state_data:null,dialogIsOpen:!1,stateValues:null,lengthContractState:null,isApproved:!1},e.loadData=function(){var t=a(10),n=localStorage.getItem("url");t({method:"post",url:n+="?action=getContractsFolderContent"}).then((function(t){e.setState({data:t.data})}))},e.getFile=function(t){var n=a(10),l=localStorage.getItem("url");l+="?action=getContract";var r=new URLSearchParams;r.append("path",t),n({responseType:"arraybuffer",method:"POST",data:r,url:l}).then((function(a){var n=new Blob([a.data],{type:a.headers["content-type"]}),l=window.URL.createObjectURL(n);e.setState({fileUrl:l}),e.setState({currentContractPath:t});var r=document.getElementById("fileViewer");null!==r&&document.removeChild(r),e.setState({url:l})}))},e.getContractPath=function(t){var n=a(10),l=localStorage.getItem("url");l+="?action=getContractPath";var r=new URLSearchParams;r.append("id",t);var s=Object(Ue.a)(e);n({method:"POST",data:r,url:l}).then((function(t){e.setState({currentContractPath:t.data.path}),s.getFile(t.data.path)}))},e.getContractStates=function(){var t=a(10),n=localStorage.getItem("url");t({method:"POST",url:n+="?action=getAllContractStates"}).then((function(t){t.data&&(e.setState({contract_state_data:t.data,lengthContractState:t.data.length}),e.createStateArray(),e.viewModalBody())}))},e.clickedNode=function(t,a,n){t?(e.setState({fileOpen:!0}),e.setState({internshipId:t}),e.getContractPath(t),e.setState({enableValidation:!0})):a&&(e.setState({fileOpen:!0}),e.getFile(a),e.setState({enableValidation:!1})),e.setState({isApproved:n})},e.displayTree=function(){return r.a.createElement(yt.a,{defaultCollapseIcon:r.a.createElement(Ct.a,null),defaultExpanded:["1"],defaultExpandIcon:r.a.createElement(kt.a,null)},function t(a){return r.a.createElement(wt.a,{onClick:function(){return e.clickedNode(a.internshipId,a.path,a.isApproved)},nodeId:"a"+a.id,label:a.text},Array.isArray(a.children)?a.children.map((function(e){return t(e)})):null)}(e.state.data))},e.handleChange=function(t){var a=e.state.stateValues;a[t.target.value].isChecked?a[t.target.value].isChecked=!1:a[t.target.value].isChecked=!0,e.setState({stateValues:a}),e.viewModalBody()},e.sendRateContract=function(t){var n=new URLSearchParams,l=[];if(!t){for(var r=0;r<e.state.stateValues.length;r++){var s=[];s.push("id",e.state.stateValues[r].id),s.push("name",e.state.stateValues[r].name),s.push("isChecked",e.state.stateValues[r].isChecked),l.push(s)}n.append("stateValues",JSON.stringify(l))}n.append("approved",t),n.append("internshipId",e.state.internshipId);var i=a(10),o=localStorage.getItem("url");i({method:"POST",url:o+="?action=rateContract",data:n}).then((function(e){console.log(e.data)}))},e.createStateArray=function(){if(e.state.contract_state_data){var t=[];e.state.contract_state_data.map((function(e){t.push({name:e.name,id:e.id,isChecked:!1,isCreated:!1})})),e.setState({stateValues:t})}},e.remove=function(t){var a=e.state.contract_state_data;a.splice(t,1);var n=e.state.stateValues;n.splice(t,1),e.setState({contract_state_data:a,stateValues:n}),e.viewModalBody()},e.getDelete=function(t,a){if(t)return r.a.createElement(ke.a,{onClick:function(){return e.remove(a)}})},e.viewModalBody=function(){var t=[];(e.state.contract_state_data||e.state.stateValues)&&(e.state.contract_state_data.map((function(a,n){t.push(r.a.createElement("div",null,r.a.createElement(Ge.a,{control:r.a.createElement(bt.a,{checked:e.state.stateValues[n].isChecked,onChange:e.handleChange,value:n,name:a.name,className:"dark"}),label:a.name}),r.a.createElement("div",{className:"float-right mr-3"},e.getDelete(e.state.stateValues[n].isCreated,n))))})),t.push(r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",{className:"w-75 mr-2"},r.a.createElement(F.a,{autoFocus:!0,margin:"dense",id:"district",label:"Neuer Grund",type:"text",fullWidth:!0,onChange:e.handleNewState})),r.a.createElement("div",{className:"ml-2 mt-3 w-25"},r.a.createElement("button",{className:"btn-primary btn",onClick:e.addNewState},"Hinzuf\xfcgen")))),e.setState({reasonToDeny:t}))},e.handleNewState=function(t){e.setState({new_State:t.target.value})},e.addNewState=function(){var t=e.state.contract_state_data,a=e.state.stateValues,n=e.state.new_State;t.push({description:n,name:n,general:0}),a.push({name:n,isChecked:!0,isCreated:!0,id:null}),e.setState({contract_state_data:t,stateValues:a}),e.viewModalBody()},e.handleDialogClose=function(){var t=e.state.lengthContractState,a=e.state.contract_state_data;a.splice(t,a.length-t);var n=e.state.stateValues;n.splice(t,a.length-t),e.setState({contract_state_data:a,stateValues:n,dialogIsOpen:!1}),e.getFile(e.state.currentContractPath),e.viewModalBody()},e.handleDialogSave=function(){e.sendRateContract(!1),console.log(e.state.stateValues),e.handleDialogClose()},e.clickValidation=function(t){t&&e.state.internshipId?e.sendRateContract(!0):e.handleDialogOpen(),e.getFile(e.state.currentContractPath)},e.handleDialogOpen=function(){e.setState({dialogIsOpen:!0})},e.downloadContract=function(){if(null!=e.state.fileUrl){var t=document.createElement("a");document.body.appendChild(t),t.style="display: none",t.href=e.state.fileUrl,t.download="ArbeitsVertrag.docx",t.click()}},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.loadData(),this.getContractStates()}},{key:"render",value:function(){var e=this;return console.log(this.state),r.a.createElement("div",{className:"w-100 adminViewContent bg-light"},r.a.createElement(he.a,{className:"flex-shrink-1"},r.a.createElement(pe.a,{href:"/loggedin/Administration"},"Administration"),r.a.createElement(pe.a,{href:"/loggedin/Administration/ClassInformation",active:"active"},"ContractInformation")),r.a.createElement("div",null,r.a.createElement(z.a,{open:this.state.dialogIsOpen,onClose:this.handleDialogClose,fullWidth:!0,maxWidth:"xs","aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Zur\xfcckweisen"),r.a.createElement(M.a,null,r.a.createElement(P.a,null,"Was ist an diesem Vertrag falsch?"),this.state.reasonToDeny),r.a.createElement(V.a,null),r.a.createElement(B.a,null,r.a.createElement(w.a,{onClick:this.handleDialogClose,color:"primary"},"Abbrechen"),r.a.createElement(w.a,{onClick:this.handleDialogSave,color:"primary"},"Speichern")))),r.a.createElement("div",{className:"h-100 flex-grow-1 asideDesktopTopMobile fillChildrenOnMobile",style:{display:"flex",alignItems:"stretch",alignContent:"stretch",minHeight:"80vh",flex:1}},r.a.createElement(_.a,{className:"treeItemContainer m-3",style:{float:"left",maxHeight:"80vh",overflow:"visible"}},r.a.createElement(_.a.Header,null,"Alle Vertr\xe4ge"),this.displayTree()),r.a.createElement(_.a,{className:"m-3",style:{float:"right",maxHeight:"80vh",overflow:"auto",display:"flex",flexDirection:"column",alignItems:"stretch",alignContent:"stretch",flex:1}},r.a.createElement(_.a.Header,{className:"d-flex justify-content-center py-3"},r.a.createElement(w.a,{disabled:!this.state.enableValidation||"1"==this.state.isApproved,className:"mx-2",onClick:function(){return e.clickValidation(!0)},variant:"success"},"Vertrag Best\xe4tigen ",r.a.createElement(xt.a,null)),r.a.createElement(w.a,{disabled:!this.state.fileOpen,onClick:function(){return e.downloadContract()},className:"mx-2"},this.state.link," ",r.a.createElement(Dt.a,null)),r.a.createElement(w.a,{disabled:!this.state.enableValidation||"1"==this.state.isApproved,className:"mx-2",variant:"danger",onClick:function(){return e.clickValidation(!1)}},"Vertrag Zur\xfcckweisen ",r.a.createElement(jt.a,null))),r.a.createElement(_.a.Body,{className:"overflow-auto"},r.a.createElement(zt,{originalPath:this.state.currentContractPath,url:this.state.url})))))}}]),n}(l.Component),Vt=(a(593),function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={redirect:"",redirectToLink:!1,search_data:null,offset:0,previous_disabled:!0,next_disabled:!1,search_input:""},e.nextPage=function(){if(!e.check_array_empty()){var t=e.state.offset;t++,e.setState({offset:t}),e.setState({previous_disabled:!1}),e.getSearch(t,e.state.search_input)}},e.previousPage=function(){var t=e.state.offset;console.log(t),0===t?e.setState({previous_disabled:!0}):(t--,e.setState({offset:t}),e.setState({next_disabled:!1}),e.getSearch(t,e.state.search_input))},e.log_input=function(t){""===t.target.value?e.setState({search_input:""}):e.setState({search_input:t.target.value}),e.getSearch(0,t.target.value)},e.getSearch=function(t,n){var l=localStorage.getItem("url");l+="?action=getEntityBySearchInput";var r=a(10),s=new URLSearchParams;s.append("searchinput",n),s.append("offset",t),r({method:"post",url:l,data:s}).then((function(t){e.setState({search_data:t.data}),e.check_array_empty()}))},e.displayData=function(){function t(e){var t=Number(e).toString(16);return t.length<2&&(t="0"+t),t}function a(){var e=[];return Math.random()<.666?e.push(t(0)+""+t(48)+t(80)):e.push(t(255)+""+t(203)+t(0)),e[0]}function n(e,t){return e?r.a.createElement("div",{className:"d-flex align-items-baseline"},r.a.createElement(X.a,{style:{backgroundColor:"#"+a()}},function(e,t){return e.substring(0,1).toUpperCase()+t.substring(0,1).toUpperCase()}(e,t)),r.a.createElement("div",{className:"ml-2"},e+" "+t)):r.a.createElement("div",{className:"d-flex align-items-baseline"},r.a.createElement(X.a,{style:{backgroundColor:"#"+a()}},"MM"),r.a.createElement("div",{className:"ml-2"},"Max Muster"))}if(null!==e.state.search_data){var l=[],s=e.state.search_data,i=Object.keys(s),o=0;return i.map((function(t){var i=[];"offset"!==t&&(s[t].items.map((function(l){var s;"Unternehmen"===t?i.push(r.a.createElement(_.a,{key:o++,bg:"light",className:"m-2 w-25 text-center",onClick:function(){return e.openCompanyInfo(l.id)}},r.a.createElement(_.a.Header,null,(s=l.name)?r.a.createElement("div",{className:"d-flex align-items-baseline"},r.a.createElement(X.a,{style:{backgroundColor:"#"+a()}},function(e){return e.substring(0,1).toUpperCase()}(s)),r.a.createElement("div",{className:"ml-2"},s)):r.a.createElement("div",{className:"d-flex align-items-baseline"},r.a.createElement(X.a,{style:{backgroundColor:"#"+a()}},"MM"),r.a.createElement("div",{className:"ml-2"},"Max Muster"))),r.a.createElement(_.a.Body,null,r.a.createElement("h3",null,l.name)))):"Sch\xfcler"===t?i.push(r.a.createElement(_.a,{key:o++,bg:"light",className:"m-2 w-25 text-center",onClick:function(){return e.openStudentInfo(l.id)}},r.a.createElement(_.a.Header,null,n(l.firstname,l.surname)),r.a.createElement(_.a.Body,null,r.a.createElement("h3",null,l.firstname+" "+l.surname)))):i.push(r.a.createElement(_.a,{key:o++,bg:"light",className:"m-2 w-25 text-center"},r.a.createElement(_.a.Header,null,n(l.firstname,l.surname)),r.a.createElement(_.a.Body,null,r.a.createElement("h3",null,l.firstname+" "+l.surname))))})),l.push(r.a.createElement(_.a,{key:o++,className:"my-2"}," ",r.a.createElement(_.a.Header,{className:"text-center"},r.a.createElement("h2",null,t)),r.a.createElement(_.a.Body,{className:"d-flex flex-wrap flex-row"},i))))})),l}},e.openStudentInfo=function(t){e.setState({redirect:"./StudentInformation/"+t,redirectToLink:!0})},e.openCompanyInfo=function(t){e.setState({redirect:"./CompanyInformation/"+t,redirectToLink:!0})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getSearch(0,"")}},{key:"check_array_empty",value:function(){if(this.state.search_data){var e=this.state.search_data,t=Object.keys(e),a=0;return t.map((function(t){"offset"!==t&&(a+=e[t].size)})),a<33?(this.setState({next_disabled:!0}),!0):(this.setState({next_disabled:!1}),!1)}}},{key:"render",value:function(){return!1!==this.state.redirectToLink?r.a.createElement(p.a,{to:this.state.redirect}):r.a.createElement("div",{className:"adminViewContent bg-light"},r.a.createElement(C.a,null,r.a.createElement(N.a,{className:"w-25"},r.a.createElement(w.a,{disabled:this.state.previous_disabled,className:"float-left m-3",onClick:this.previousPage},"Vorherige")),r.a.createElement(N.a,{className:"w-50"},r.a.createElement("input",{className:"m-3 form-control",autoFocus:!0,type:"text",onChange:this.log_input})),r.a.createElement(N.a,{className:"w-25"},r.a.createElement(w.a,{disabled:this.state.next_disabled,className:"float-right m-3",onClick:this.nextPage},"N\xe4chste"))),r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement("div",{className:"p-1"},r.a.createElement("div",null,this.displayData())))),r.a.createElement(C.a,null,r.a.createElement(N.a,{className:"w-25"},r.a.createElement(w.a,{disabled:this.state.previous_disabled,className:"float-left m-3",onClick:this.previousPage},"Vorherige")),r.a.createElement(N.a,{className:"w-50"}),r.a.createElement(N.a,{className:"w-25"},r.a.createElement(w.a,{disabled:this.state.next_disabled,className:"float-right m-3",onClick:this.nextPage},"N\xe4chste"))))}}]),n}(l.Component)),Mt=(a(660),a(266)),Bt=a(722),Ut=a(38),Pt=a.n(Ut),Ft=["<h1 className={'title'}></h1><input/><input/><input/>",{},{}],Ht=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={redirect:"",redirectToLink:!1,class_id:0,standard_startValue:"08:00",standard_lunchbreakStartValue:"13:00",standard_lunchbreakEndValue:"14:00",standard_endValue:"17:00",from:"",to:"",internshipId:e.props.match.params.id,workdayData:null,workdayDisplay:[],workdayValues:null,calendarView:!0,range:{startDate:new Date,endDate:new Date,key:"selection"},step:0,title:""},e.handleSelect=function(t){console.log(t),e.setState((function(e){var a=Object.assign({},e.range);return a.startDate=t.selection.startDate,a.endDate=t.selection.endDate,{range:a}}))},e.getStep=function(e){if(Ft.length+1<e)return Ft[e]},e.getInternshipData=function(){if(null!=e.state.internshipId){var t=a(10),n=localStorage.getItem("url"),l=localStorage.getItem("user");l=JSON.parse(l),e.setState({userData:l}),t({url:n+"?action=getInternshipById&id="+e.state.internshipId}).then((function(t){void 0===t.data.error?(console.log(t.data.from),console.log(t.data.to),e.setState({from:t.data.from,to:t.data.to}),e.loadFromJson()):console.error("ERROR LOADING DATA")}))}},e.submitWorkday=function(){for(var t=e.state.workdayValues,a=new URLSearchParams,n=0;n<t.length;n++){var l="workstart_"+n,r="lunchstart_"+n,s="lunchend_"+n,i="workend_"+n,o=Pt()(t[n][r],"HH:mm").diff(Pt()(t[n][l],"HH:mm")),c=Pt.a.duration(o),m=void 0;m=0!==c.minutes()?c.hours()+":"+c.minutes():c.hours()+":00",o=Pt()(t[n][i],"HH:mm").diff(Pt()(t[n][s],"HH:mm"));var u=void 0;u=0!==(c=Pt.a.duration(o)).minutes()?c.hours()+":"+c.minutes():c.hours()+":00";var d=[];d.push("date",e.state.workdayData.days[n]),d.push("worktimebeforLunch",m),d.push("worktimeafterLunch",u),a.append(n,JSON.stringify(d))}e.sendWorkDaysToAPI(a)},e.sendWorkDaysToAPI=function(t){console.log(e.state.workdayValues);var n=a(10),l=localStorage.getItem("url");n({method:"post",url:l+="?action=insertWorkday&internship_id="+e.state.internshipId,data:t}).then((function(e){console.log(e.data)}))},e.setStandardValueWorkstart=function(t,a){for(var n=e.state.workdayValues,l=0;l<e.state.workdayValues.length;l++){var r="workstart_"+l;n[l][r]=a}e.setState({workdayValues:n,standard_startValue:a})},e.setStandardValueStartLunch=function(t,a){for(var n=e.state.workdayValues,l=0;l<e.state.workdayValues.length;l++){var r="lunchstart_"+l;n[l][r]=a}e.setState({workdayValues:n,standard_lunchbreakStartValue:a})},e.setStandardValueEndLunch=function(t,a){for(var n=e.state.workdayValues,l=0;l<e.state.workdayValues.length;l++){var r="lunchend_"+l;n[l][r]=a}e.setState({workdayValues:n,standard_lunchbreakEndValue:a})},e.setStandardValueWorkend=function(t,a){for(var n=e.state.workdayValues,l=0;l<e.state.workdayValues.length;l++){var r="workend_"+l;n[l][r]=a}e.setState({workdayValues:n,standard_endValue:a})},e.onChangeDate=function(e,t){console.log(e,t)},e.onChangeTimeStart=function(t,a,n,l){var r=e.state.workdayValues;r[l][n]=a,e.setState({workdayValues:r})},e.onChangeTimeStartLunch=function(t,a,n,l){var r=e.state.workdayValues;r[l][n]=a,e.setState({workdayValues:r})},e.onChangeTimeEndLunch=function(t,a,n,l){var r=e.state.workdayValues;r[l][n]=a,e.setState({workdayValues:r})},e.onChangeTimeEnd=function(t,a,n,l){var r=e.state.workdayValues;r[l][n]=a,e.setState({workdayValues:r})},e.createWorkDay=function(){if(null!=e.state.workdayData&&null!=e.state.workdayValues){var t=[];return e.state.workdayData.days.map((function(a,n){var l="workstart_"+n,s="lunchstart_"+n,i="lunchend_"+n,o="workend_"+n;t.push(r.a.createElement(C.a,{className:"m-3",key:n},r.a.createElement(Mt.a,{defaultValue:Pt()(a,"DD.MM.YYYY"),onChange:e.onChangeDate,format:"DD.MM.YYYY"}),r.a.createElement(Bt.a,{onChange:function(t,a){return e.onChangeTimeStart(t,a,"workstart_"+n,n)},minuteStep:15,name:"workstart_"+n,id:"workstart_"+n,value:Pt()(e.state.workdayValues[n][l],"HH:mm"),format:"HH:mm"}),r.a.createElement(Bt.a,{onChange:function(t,a){return e.onChangeTimeStartLunch(t,a,"lunchstart_"+n,n)},minuteStep:15,name:"lunchstart_"+n,id:"lunchstart_"+n,value:Pt()(e.state.workdayValues[n][s],"HH:mm"),format:"HH:mm"}),r.a.createElement(Bt.a,{onChange:function(t,a){return e.onChangeTimeEndLunch(t,a,"lunchend_"+n,n)},minuteStep:15,name:"lunchend_"+n,id:"lunchend_"+n,value:Pt()(e.state.workdayValues[n][i],"HH:mm"),format:"HH:mm"}),r.a.createElement(Bt.a,{onChange:function(t,a){return e.onChangeTimeEnd(t,a,"workend_"+n,n)},minuteStep:15,name:"workend_"+n,id:"workend_"+n,value:Pt()(e.state.workdayValues[n][o],"HH:mm"),format:"HH:mm"})))})),t}},e.setWorkDayValues=function(){if(null!=e.state.workdayData){var t=[];e.state.workdayData.days.map((function(a,n){var l,r=e.state.standard_startValue,s=e.state.standard_lunchbreakStartValue,i=e.state.standard_lunchbreakEndValue,o=e.state.standard_endValue,c="workstart_"+n,m="lunchstart_"+n,u="lunchend_"+n,p="workend_"+n;t.push((l={},Object(d.a)(l,c,r),Object(d.a)(l,m,s),Object(d.a)(l,u,i),Object(d.a)(l,p,o),l))})),e.setState({workdayValues:t})}},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getInternshipData()}},{key:"render",value:function(){if(!1!==this.state.redirectToLink)return r.a.createElement(p.a,{to:this.state.redirectToLink});return r.a.createElement("div",{className:"classViewContent bg-light"},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/company/"},"Unternehmen"),r.a.createElement(pe.a,{href:"/loggedin/company/InternshipInformation",active:!0},"Praktikums Informationen")),r.a.createElement(x.a,{style:{color:"black"},labelPlacement:"vertical",current:0},Ft.map((function(e,t){return r.a.createElement(x.a.Step,null,t)}))),r.a.createElement("h1",null,this.state.title),this.getStep(0))}},{key:"loadFromJson",value:function(){var e=this,t=a(10),n=localStorage.getItem("url");n+="?action=getWorkdays";var l=new URLSearchParams;l.append("from",this.state.from),l.append("to",this.state.to),t({method:"post",url:n,data:l}).then((function(t){console.log(t.data),e.setState({workdayData:t.data}),e.setWorkDayValues()}))}}]),n}(l.Component),Wt=a(725),Kt=a(724),Gt=a(723),qt=a(710),Jt=a(661),Yt=a(726),Zt=a(395),Qt=a.n(Zt),Xt=a(112),$t=a(396),ea=a.n($t),ta=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={finishedInternships:[],data:[],showWriteMail:!1,mailContent:"Keine E-Mail ausgew\xe4hlt"},e.displayMail=function(){var t=[];if(e.state.finishedInternships&&e.state.finishedInternships.map((function(a){var n=a.schoolpersonName.charAt(0)+a.schoolpersonName.split(" ")[1].charAt(0);n=n.toUpperCase(),t.push(r.a.createElement(Gt.a,{style:{cursor:"pointer"},className:"bg-primary",onClick:function(){return e.openMail(a.id)},key:a.id},r.a.createElement(Kt.a,null,r.a.createElement(X.a,null,n)),r.a.createElement(Wt.a,{primary:a.studentName+" - "+a.companyName,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(Xt.a,{component:"span",variant:"body2",className:"d-inline",color:"textPrimary"},a.companyName)," nach: "+a.companyTutorName)})))})),e.state.data)return e.state.data.map((function(a){var n=a.schoolpersonName.charAt(0)+a.schoolpersonName.split(" ")[1].charAt(0);n=n.toUpperCase(),t.push(r.a.createElement(Gt.a,{style:{cursor:"pointer"},onClick:function(){return e.openMail(a.id)},key:a.id},r.a.createElement(Kt.a,null,r.a.createElement(X.a,null,n)),r.a.createElement(Wt.a,{primary:a.studentName+" - "+a.companyName,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(Xt.a,{component:"span",variant:"body2",className:"d-inline",color:"textPrimary"},a.companyName)," nach: "+a.companyTutorName)})))})),t},e.showComposeMail=function(){window.open("/composeMail/","","width=1060,height=650")},e.loadEmail=function(){var t=localStorage.getItem("url");t+="?action=getAllEmailsSentAndNot",a(10)({method:"post",url:t}).then((function(t){console.log(t.data),console.log(t.data.sent),e.setState({data:t.data.sent,finishedInternships:t.data.notSent})}))},e.loadToSend=function(){var t=localStorage.getItem("url");t+="?action=getFinishedInternshipsToday",a(10)({method:"post",url:t}).then((function(t){console.log(t.data),e.setState({finishedInternships:t.data})}))},e.openMail=function(t){var n=localStorage.getItem("url");n+="?action=getRatingEmailContent";var l=new URLSearchParams;l.append("id",t),a(10)({method:"post",url:n,data:l}).then((function(t){var a=t.data.content;console.log(a),e.setState({mailContent:a})}))},e.sendToAll=function(){var t=localStorage.getItem("url");t+="?action=sendAllDueRatingEmail",a(10)({method:"post",url:t}).then((function(t){e.loadEmail()}))},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.loadEmail()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"adminViewContent bg-light"},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/"},"Administration"),r.a.createElement(pe.a,{active:!0,href:"/loggedin/"},"Praktikumsbewertung E-Mail")),r.a.createElement("div",{className:"d-flex flex-row align-items-stretch",style:{maxHeight:"80vh"}},r.a.createElement("div",{className:"bg-white overflow-auto"},r.a.createElement(qt.a,{component:"nav","aria-label":"main mailbox folders"},r.a.createElement(Gt.a,{button:!0,divider:!0,onClick:function(){return e.sendToAll()}},r.a.createElement(Wt.a,{primary:"Alle senden"}),r.a.createElement(Yt.a,null,r.a.createElement(Jt.a,{onClick:function(){return e.sendToAll()}},r.a.createElement(ea.a,null))))),r.a.createElement(qt.a,{component:"nav","aria-label":"secondary mailbox folders"},this.displayMail())),r.a.createElement(_.a,{className:"mx-2",style:{flex:1}},Qt()(this.state.mailContent))),r.a.createElement(k.a,{show:this.state.showWriteMail,onHide:function(){e.showComposeMail()}},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,null,"E-Mail schreiben")),r.a.createElement("select",null,r.a.createElement("section",null)),r.a.createElement(k.a.Body,null),r.a.createElement(k.a.Footer,null,r.a.createElement(w.a,{variant:"secondary",onClick:function(){e.setState({showWriteMail:!1})}},"Abrechen"),r.a.createElement(w.a,{variant:"primary"},"Senden"))))}},{key:"displayToSendMail",value:function(){var e=this;if(null!=this.state.finishedInternships){var t=[];return this.state.finishedInternships.map((function(a){t.push(r.a.createElement(Gt.a,{style:{cursor:"pointer"},className:"bg-primary",onClick:function(){return e.openMail(a.id)},key:a.id},r.a.createElement(Kt.a,null,r.a.createElement(X.a,null,"TS")),r.a.createElement(Wt.a,{primary:a.companyId,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(Xt.a,{component:"span",variant:"body2",className:"d-inline",color:"textPrimary"},a.id))})))})),t}}}]),n}(l.Component),aa=a(397),na=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).exportHtml=function(){e.editor.exportHtml((function(e){e.design;var t=e.html;console.log("exportHtml",t)}))},e.exportJson=function(){e.editor.saveDesign((function(e){console.log(e)}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{onClick:this.exportHtml},"Export HTML"),r.a.createElement("button",{onClick:this.exportJson},"Export JSON")),r.a.createElement(aa.a,{ref:function(t){return e.editor=t}}))}}]),a}(l.Component),la=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={roles:null,error:!1,redirectToLink:!1,redirect:"",roleName:"",roleDescription:"",dialogIsOpen:!1,currentRole:null,roleID:"",dialogNewRoleIsOpen:!1,NewRoleDescription:"",NewRoleName:"",errorIsOpen:!1,errorMessage:""},e.handleSubmit=function(t){t.preventDefault();var n=localStorage.getItem("url"),l=new URLSearchParams;l.append("role_id",e.state.roleID),l.append("description",e.state.roleDescription),l.append("name",e.state.roleName),a(10)({method:"post",url:n+="?action=editRole",data:l}).then((function(t){console.log(t.data),t.data.error?(console.log(t.message),e.setState({errorIsOpen:!0,errorMessage:t.data.message})):(e.setState({roles:t.data}),e.handleDialogClose())}))},e.handleSubmitNewRole=function(t){t.preventDefault(),console.log("name",e.state.NewRoleName,"desc",e.state.NewRoleDescription);var n=localStorage.getItem("url"),l=new URLSearchParams;l.append("description",e.state.NewRoleDescription),l.append("name",e.state.NewRoleName),a(10)({method:"post",url:n+="?action=createRole",data:l}).then((function(t){console.log(t.data),t.data.error?(console.log(t.message),e.setState({errorIsOpen:!0,errorMessage:t.data.message})):(e.setState({roles:t.data}),e.handleDialogRoleClose())}))},e.handleChange=function(t){e.setState(Object(d.a)({},t.target.name,[t.target.value]))},e.handleDialogClose=function(){e.setState({dialogIsOpen:!1})},e.handleDialogRoleClose=function(){e.setState({dialogNewRoleIsOpen:!1})},e.getAllRoles=function(){var t=localStorage.getItem("url");t+="?action=getAllRoles",a(10)({method:"post",url:t}).then((function(t){console.log(t.data),e.setState({roles:t.data})}))},e.displayAllRoles=function(){if(null!=e.state.roles&&!0!==e.state.error){var t=function(e){var t=Number(e).toString(16);return t.length<2&&(t="0"+t),t},a=function(){var e=[];return e.push(t(255)+""+t(203)+t(0)),e.push(t(0)+""+t(48)+t(80)),e[Math.floor(Math.random()*e.length)]},n=function(e){return null!=e?e.substring(0,1).toUpperCase():"M"};if(!e.state.roles)return r.a.createElement("div",null);var l=[];return l.push(r.a.createElement(_.a,{bg:"light border border-secondary",key:-1,className:"m-3 w-25 text-center",onClick:function(){return e.setState({dialogNewRoleIsOpen:!0})}},r.a.createElement(_.a.Header,null,r.a.createElement(C.a,null,r.a.createElement(N.a,{className:"d-flex align-items-baseline"},r.a.createElement(X.a,{style:{backgroundColor:"#"+a()}},n("Neue Rolle")),r.a.createElement("div",{className:"ml-2"},"Neue Rolle")),r.a.createElement(N.a,null,r.a.createElement("div",{className:"float-right mt-2"})))),r.a.createElement(_.a.Body,{className:"d-flex justify-content-around"},r.a.createElement("h2",null,"+")))),e.state.roles.map((function(t){l.push(r.a.createElement(_.a,{bg:"light",key:t.id,className:"m-3 w-25 text-center"},r.a.createElement(_.a.Header,null,r.a.createElement(C.a,null,r.a.createElement(N.a,{className:"d-flex align-items-baseline"},r.a.createElement(X.a,{style:{backgroundColor:"#"+a()}},n(t.name)),r.a.createElement("div",{className:"ml-2"},t.name)),r.a.createElement(N.a,null,r.a.createElement("div",{className:"float-right mt-2",onClick:function(){return e.openDialog(t.id)}},r.a.createElement(Ve.a,null))))),r.a.createElement(_.a.Body,null,r.a.createElement("h5",null,"Beschreibung:"),r.a.createElement("h6",null,t.description))))})),l}},e.getRoleByID=function(t){for(var a=e.state.roles,n=0,l=a.length,r=null;n<l;n++)t===a[n].id&&(r=a[n]);return r},e.openDialog=function(t){var a=e.getRoleByID(t);null!=a&&e.setState({dialogIsOpen:!0,roleID:a.id,roleName:a.name,roleDescription:a.description})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getAllRoles()}},{key:"render",value:function(){var e=this;return!1!==this.state.redirectToLink?r.a.createElement(p.a,{to:this.state.redirect}):r.a.createElement("div",{className:"w-100 adminViewContent"},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/Administration",active:!0},"Administration")),r.a.createElement(C.a,null,r.a.createElement(N.a,{className:"m-5"},r.a.createElement("h1",null,"Alle Rollen"))),r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement("div",{className:"p-1"},r.a.createElement("div",{className:"noDividerList"},this.displayAllRoles())))),r.a.createElement(I.a,{open:this.state.errorIsOpen,autoHideDuration:1e4,onClose:function(){e.setState({errorIsOpen:!1})}},r.a.createElement(D.a,{severity:"error",onClose:function(){return e.setState({errorIsOpen:!1})}},this.state.errorMessage)),r.a.createElement(z.a,{open:this.state.dialogIsOpen,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Fachrichtung"),r.a.createElement(M.a,null,r.a.createElement(P.a,null,"Bearbeiten sie in den untenstehenden Textfeld die Rolle ein!"),r.a.createElement(T.a,{id:"editRole",onSubmit:this.handleSubmit},r.a.createElement(F.a,{margin:"dense",required:!0,value:this.state.roleName,id:"roleName",label:"Name der Rolle",type:"text",name:"roleName",fullWidth:!0,onChange:this.handleChange}),r.a.createElement(F.a,{margin:"dense",required:!0,value:this.state.roleDescription,id:"roleDescription",label:"Beschreibung der Rolle",type:"text",name:"roleDescription",fullWidth:!0,onChange:this.handleChange}))),r.a.createElement(B.a,null,r.a.createElement(w.a,{onClick:this.handleDialogClose,color:"primary"},"Abbrechen"),r.a.createElement(w.a,{type:"submit",form:"editRole",color:"primary"},"Speichern"))),r.a.createElement(z.a,{open:this.state.dialogNewRoleIsOpen,onClose:this.handleDialogRoleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Neue Rolle"),r.a.createElement(M.a,null,r.a.createElement(P.a,null,"Geben sie in den untenstehenden Textfeldern die neue Rolle ein!"),r.a.createElement(T.a,{id:"editRole",onSubmit:this.handleSubmitNewRole},r.a.createElement(F.a,{margin:"dense",required:!0,value:this.state.NewRoleName,id:"roleName",label:"Name der Rolle",type:"text",name:"NewRoleName",fullWidth:!0,onChange:this.handleChange}),r.a.createElement(F.a,{margin:"dense",required:!0,value:this.state.NewRoleDescription,id:"roleDescription",label:"Beschreibung der Rolle",type:"text",name:"NewRoleDescription",fullWidth:!0,onChange:this.handleChange}))),r.a.createElement(B.a,null,r.a.createElement(w.a,{onClick:this.handleDialogRoleClose,color:"primary"},"Abbrechen"),r.a.createElement(w.a,{type:"submit",form:"editRole",color:"primary"},"Speichern"))))}}]),n}(l.Component),ra=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={specialization:null,error:!1,specializationName:"",NewSpecDescription:"",dialogNewSpecIsOpen:!1,dialogIsOpen:!1,errorIsOpen:!1,errorMessage:"Fehler"},e.handleSubmitNewSpec=function(t){t.preventDefault(),console.log("spec_description",e.state.NewSpecDescription);var n=localStorage.getItem("url"),l=new URLSearchParams;l.append("specialization_description",e.state.NewSpecDescription),a(10)({method:"post",url:n+="?action=createSpecialization",data:l}).then((function(t){console.log(t.data),t.data.error?(console.log(t.message),e.setState({errorIsOpen:!0,errorMessage:t.data.message})):(e.setState({specialization:t.data}),e.handleDialogCloseSpec())}))},e.handleDialogClose=function(){e.setState({dialogIsOpen:!1})},e.handleDialogCloseSpec=function(){e.setState({dialogNewSpecIsOpen:!1})},e.handleSubmit=function(t){t.preventDefault();var n=localStorage.getItem("url"),l=new URLSearchParams;l.append("specializations_id",e.state.specializations_id),l.append("description",e.state.specializationName),a(10)({method:"post",url:n+="?action=editSpecialization",data:l}).then((function(t){console.log(t.data),t.data.error?(console.log(t.message),e.setState({errorIsOpen:!0,errorMessage:t.data.message})):(e.setState({specialization:t.data}),e.handleDialogClose())}))},e.handleChange=function(t){e.setState(Object(d.a)({},t.target.name,[t.target.value]))},e.getSpecByID=function(t){for(var a=e.state.specialization,n=0,l=a.length,r=null;n<l;n++)t===a[n].id&&(r=a[n]);return r},e.openDialog=function(t){var a=e.getSpecByID(t);null!=a&&e.setState({dialogIsOpen:!0,specializations_id:a.id,specializationName:a.description})},e.getAllSpecializations=function(){var t=localStorage.getItem("url");t+="?action=getAllSpecializations",a(10)({method:"post",url:t}).then((function(t){console.log(t.data),e.setState({specialization:t.data})}))},e.displaySpecializations=function(){if(null!=e.state.specialization&&!0!==e.state.error){var t=function(e){var t=Number(e).toString(16);return t.length<2&&(t="0"+t),t},a=function(){var e=[];return e.push(t(255)+""+t(203)+t(0)),e.push(t(0)+""+t(48)+t(80)),e[Math.floor(Math.random()*e.length)]},n=function(e){return null!=e?e.substring(0,1).toUpperCase():"M"};if(!e.state.specialization)return r.a.createElement("div",null);var l=[];return l.push(r.a.createElement(_.a,{bg:"light border border-secondary",key:-1,className:"m-3 w-25 text-center",onClick:function(){return e.setState({dialogNewSpecIsOpen:!0})}},r.a.createElement(_.a.Header,null,r.a.createElement(C.a,null,r.a.createElement(N.a,{className:"d-flex align-items-baseline"},r.a.createElement(X.a,{style:{backgroundColor:"#"+a()}},n("+")),r.a.createElement("div",{className:"ml-2"},"Neue Fachrichtung")))))),e.state.specialization.map((function(t){l.push(r.a.createElement(_.a,{bg:"light",key:t.id,className:"m-3 w-25 text-center"},r.a.createElement(_.a.Header,null,r.a.createElement(C.a,null,r.a.createElement(N.a,{className:"d-flex align-items-baseline"},r.a.createElement(X.a,{style:{backgroundColor:"#"+a()}},n(t.description)),r.a.createElement("div",{className:"ml-2"},t.description)),r.a.createElement(N.a,null),r.a.createElement(N.a,null,r.a.createElement("div",{className:"float-right mt-2",onClick:function(){return e.openDialog(t.id)}},r.a.createElement(Ve.a,null)))))))})),l}},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getAllSpecializations()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"w-100 adminViewContent"},r.a.createElement(he.a,null,r.a.createElement(pe.a,{href:"/loggedin/Administration",active:!0},"Administration")),r.a.createElement(C.a,null,r.a.createElement(N.a,{className:"m-5"},r.a.createElement("h1",null,"Alle Fachrichtungen"))),r.a.createElement(I.a,{open:this.state.errorIsOpen,autoHideDuration:1e4,onClose:function(){e.setState({errorIsOpen:!1})}},r.a.createElement(D.a,{severity:"error",onClose:function(){return e.setState({errorIsOpen:!1})}},this.state.errorMessage)),r.a.createElement(C.a,null,r.a.createElement(N.a,null,r.a.createElement("div",{className:"p-1"},r.a.createElement("div",{className:"noDividerList"},this.displaySpecializations())))),r.a.createElement(z.a,{open:this.state.dialogIsOpen,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Fachrichtung"),r.a.createElement(M.a,null,r.a.createElement(P.a,null,"Bearbeiten sie in den untenstehenden Textfeld die Fachrichtung ein!"),r.a.createElement(T.a,{id:"editSpec",onSubmit:this.handleSubmit},r.a.createElement(F.a,{margin:"dense",required:!0,autoFocus:!0,value:this.state.specializationName,id:"roleDescription",label:"Name der Fachrichtung",type:"text",name:"specializationName",fullWidth:!0,onChange:this.handleChange}))),r.a.createElement(B.a,null,r.a.createElement(w.a,{onClick:this.handleDialogClose,color:"primary"},"Abbrechen"),r.a.createElement(w.a,{type:"submit",form:"editSpec",color:"primary"},"Speichern"))),r.a.createElement(z.a,{open:this.state.dialogNewSpecIsOpen,onClose:this.handleDialogRoleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(R.a,{id:"form-dialog-title"},"Neue Fachrichtung"),r.a.createElement(M.a,null,r.a.createElement(P.a,null,"Geben sie im untenstehenden Textfeld die neue Fachrichtung ein!"),r.a.createElement(T.a,{id:"editSpec",onSubmit:this.handleSubmitNewSpec},r.a.createElement(F.a,{margin:"dense",required:!0,autoFocus:!0,value:this.state.NewSpecDescription,id:"roleDescription",label:"Name der Fachrichtung",type:"text",name:"NewSpecDescription",fullWidth:!0,onChange:this.handleChange}))),r.a.createElement(B.a,null,r.a.createElement(w.a,{onClick:this.handleDialogCloseSpec,color:"primary"},"Abbrechen"),r.a.createElement(w.a,{type:"submit",form:"editSpec",color:"primary"},"Speichern"))))}}]),n}(l.Component);function sa(e){var t;(e?t=e:localStorage.token&&(t=localStorage.token),t)&&a(10).interceptors.request.use((function(e){var a=t;return e.headers["Auth-Token"]=a,e}))}localStorage.token&&sa();var ia="https://api.praktikumsfinder.tk/build/src/",oa={enabled:!0,interval:5e3,url:ia+"index.php?action=login"};!function(){var e=localStorage.getItem("url");e+="?action=checkToken",a(10)({method:"post",url:e}).then((function(e){"#708"==e.data.error&&localStorage.setItem("token",null)}))}();var ca=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={currentUser:JSON.parse(localStorage.getItem("user")),token:localStorage.getItem("token"),navOpen:!0,logout:!1},e.closeNav=function(t){t?e.setState({navOpen:!0}):e.setState({navOpen:!1})},e.setUser=function(t,a){localStorage.setItem("user",JSON.stringify(t)),e.setState({currentUser:t}),localStorage.setItem("token",a),e.setState({token:a}),sa(a),window.location.reload(!1)},e.logout=function(){localStorage.removeItem("user"),localStorage.removeItem("token"),e.setState({currentUser:null,token:null,logout:!0})},e.addSlashIfNotExisting=function(){return"/"!==window.location.pathname.charAt(window.location.pathname.length-1)?(console.log(window.location.pathname.charAt(window.location.pathname.length-1)),r.a.createElement(p.a,{to:window.location.pathname+"/"})):r.a.createElement("div",null)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){(localStorage.setItem("url",ia),localStorage.token&&"null"!=localStorage.token)&&(a(318)(localStorage.token).exp<Date.now()/1e3?this.logout():this.setState({token:localStorage.getItem("token")}))}},{key:"isCapable",value:function(e){return e===this.state.currentUser.role}},{key:"render",value:function(){var e,t=this;if(this.state.logout)return this.setState({logout:!1}),r.a.createElement(h.a,null,r.a.createElement(p.a,{to:"/"}));return e=null==this.state.currentUser?r.a.createElement(p.a,{to:"/login/"}):"Student"===this.state.currentUser.role?r.a.createElement(p.a,{to:"/loggedin/Student/ClassOverview/"}):"Administration"===this.state.currentUser.role||"Teacher"===this.state.currentUser.role?r.a.createElement(p.a,{to:"/loggedin/Administration/"}):"Company"===this.state.currentUser.role?r.a.createElement(p.a,{to:"/loggedin/Company/"}):r.a.createElement(p.a,{to:"/loggedin/"}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement("div",null,"",r.a.createElement(p.b,{path:"/loggedin/",component:function(){return r.a.createElement(it.a,{bg:"transparent"},r.a.createElement(it.a.Brand,null,r.a.createElement("a",{href:"/loggedin/"},r.a.createElement("img",{height:70,src:dt.a,alt:"Logo"}))),r.a.createElement(ot.a,{className:"justify-content-end",style:{width:"100%"}},r.a.createElement("div",{className:"btn btn-primary",onClick:t.logout},"Logout")))}})),r.a.createElement(mt.Offline,{polling:oa},r.a.createElement(I.a,{open:!0},r.a.createElement(D.a,{variant:"filled",severity:"error"},r.a.createElement(st.a,null,"Error"),"Verbindung zum Server fehlgeschlagen!"))),r.a.createElement(p.b,{exact:!0,path:"/",component:function(){return e}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/",component:function(){return e}}),r.a.createElement(p.b,{exact:!0,path:"/login/jwt/:token",render:function(e){return r.a.createElement(S,Object.assign({currentUser:t.state.currentUser},e,{setUser:t.setUser}))}}),r.a.createElement(p.b,{path:"/register",component:function(){return r.a.createElement(O,{setUser:t.setUser})}}),r.a.createElement(p.b,{exact:!0,path:"/Administration/:id",render:function(e){return r.a.createElement(p.a,{to:"/loggedin/Administration/"+e.id})}}),r.a.createElement("div",{className:"asideDesktopTopMobile"},r.a.createElement(p.b,{path:"/loggedin/Administration/",component:function(){return r.a.createElement("div",{className:"sideNav"},r.a.createElement(vt,null))}}),r.a.createElement("div",{className:"w-100 mr-2"},r.a.createElement(p.b,{path:"/loggedin/Student/ClassOverview/internshipSteps/:id",render:function(e){return r.a.createElement(Ee,Object.assign({},e,{currentUser:t.state.currentUser}))}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Student/ClassOverview",component:function(){return r.a.createElement(Fe,{currentUser:t.state.currentUser})}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration",component:function(){return r.a.createElement(Se,null)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/ContractsView",component:function(){return r.a.createElement(Rt,null)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/notCheckedContracts",component:function(){return r.a.createElement(Rt,{viewJustNotCheckedContracts:"no"})}}),r.a.createElement(p.b,{path:"/Administration/",component:function(){return r.a.createElement(Se,null)}}),r.a.createElement(p.b,{path:"/loggedin/Administration/NewClass",component:function(){return r.a.createElement(Ce,null)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/CompanyInformation/:id",render:function(e){return r.a.createElement(Be,e)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/Search/CompanyInformation/:id",render:function(e){return r.a.createElement(Be,e)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/AllCompanies/CompanyInformation/:id",render:function(e){return r.a.createElement(Be,e)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/ClassInformation/:class_id/StudentInformation/:id",render:function(e){return r.a.createElement(We,e)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/StudentOverview/StudentInformation/:id",render:function(e){return r.a.createElement(We,e)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/StudentInformation/:id",render:function(e){return r.a.createElement(We,e)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/Search/StudentInformation/:id",render:function(e){return r.a.createElement(We,e)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/ClassInformation/:id",render:function(e){return r.a.createElement(Ae,e)}}),r.a.createElement(p.b,{exact:!0,path:"/login",component:function(){return r.a.createElement(S,{currentUser:t.state.currentUser,setUser:t.setUser})}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/AllRoles",component:function(){return r.a.createElement(la,null)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/AllSpecializations",component:function(){return r.a.createElement(ra,null)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/NewSchoolperson",component:function(){return r.a.createElement(qe,null)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/StudentOverview",component:function(){return r.a.createElement(Je,null)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/NewCompany",component:function(){return r.a.createElement(Le,null)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/AllCompanies",component:function(){return r.a.createElement(lt,null)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/AllSchoolpersons",component:function(){return r.a.createElement(rt,null)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/Search",component:function(){return r.a.createElement(Vt,null)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Administration/RatingMail",component:function(){return r.a.createElement(ta,null)}}))),r.a.createElement(p.b,{exact:!0,path:"/composeMail/",component:function(){return r.a.createElement(na,{currentUser:t.state.currentUser})}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Company/",component:function(){return r.a.createElement(nt,null)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Company/CompanyProfile",component:function(){return r.a.createElement(Qe,null)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Company/InternshipRating",component:function(){return r.a.createElement($e,null)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Company/InternshipTimeWorkDay",component:function(){return r.a.createElement(Ht,null)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Company/InternshipInformation/:id",render:function(e){return r.a.createElement(tt,e)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Company/InternshipInformation/InternshipRating/:id",render:function(e){return r.a.createElement($e,e)}}),r.a.createElement(p.b,{exact:!0,path:"/loggedin/Company/InternshipInformation/InternshipWorkDays/:id",render:function(e){return r.a.createElement(Ht,e)}}),r.a.createElement(p.b,{exact:!0,path:"/impressum",component:function(){return r.a.createElement(ct,null)}}),r.a.createElement(Te,null),this.addSlashIfNotExisting(),r.a.createElement(p.d,null,e))))}}]),n}(l.Component);i.a.render(r.a.createElement(ca,null),document.getElementById("root"))}},[[411,1,2]]]);
//# sourceMappingURL=main.0bf36e2b.chunk.js.map